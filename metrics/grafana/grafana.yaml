kind: ConfigMap
apiVersion: v1
data:
  dashboard-providers.yaml: |-
    apiVersion: 1
    providers:
    - name: 'dashboardprovider'
      orgId: 1
      folder: ''
      type: file
      disableDeletion: false
      editable: true
      options:
        path: /etc/grafana/provisioning/dashboards
  kubernetes-dashboard.json: |
    {"annotations":{"list":[{"builtIn":1,"datasource":"-- Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations & Alerts","type":"dashboard"}]},"description":"Monitors Kubernetes cluster using Prometheus. Shows overall cluster CPU / Memory / Filesystem usage as well as individual pod and container statistics. Uses cAdvisor metrics only.","editable":true,"gnetId":315,"graphTooltip":0,"id":5,"iteration":1578500224942,"links":[],"panels":[{"collapsed":false,"datasource":null,"gridPos":{"h":1,"w":24,"x":0,"y":0},"id":33,"panels":[],"title":"Network I/O pressure","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","decimals":2,"editable":true,"error":false,"fill":1,"fillGradient":0,"grid":{},"gridPos":{"h":5,"w":24,"x":0,"y":1},"height":"200px","hiddenSeries":false,"id":32,"isNew":true,"legend":{"alignAsTable":false,"avg":true,"current":true,"max":false,"min":false,"rightSide":false,"show":false,"sideWidth":200,"sort":"current","sortDesc":true,"total":false,"values":true},"lines":true,"linewidth":2,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum (rate (container_network_receive_bytes_total{kubernetes_io_hostname=~\"^$Node$\"}[1m]))","interval":"10s","intervalFactor":1,"legendFormat":"Received","metric":"network","refId":"A","step":10},{"expr":"- sum (rate (container_network_transmit_bytes_total{kubernetes_io_hostname=~\"^$Node$\"}[1m]))","interval":"10s","intervalFactor":1,"legendFormat":"Sent","metric":"network","refId":"B","step":10}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Network I/O pressure","tooltip":{"msResolution":false,"shared":true,"sort":0,"value_type":"cumulative"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"Bps","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"Bps","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"datasource":null,"gridPos":{"h":1,"w":24,"x":0,"y":6},"id":34,"panels":[],"title":"Total usage","type":"row"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"prometheus","editable":true,"error":false,"format":"percent","gauge":{"maxValue":100,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":5,"w":8,"x":0,"y":7},"height":"180px","id":4,"interval":null,"isNew":true,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"sum (container_memory_working_set_bytes{id=\"/\",kubernetes_io_hostname=~\"^$Node$\"}) / sum (machine_memory_bytes{kubernetes_io_hostname=~\"^$Node$\"}) * 100","interval":"10s","intervalFactor":1,"refId":"A","step":10}],"thresholds":"65, 90","title":"Cluster memory usage","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"prometheus","decimals":2,"editable":true,"error":false,"format":"percent","gauge":{"maxValue":100,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":5,"w":8,"x":8,"y":7},"height":"180px","id":6,"interval":null,"isNew":true,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"sum (rate (container_cpu_usage_seconds_total{id=\"/\",kubernetes_io_hostname=~\"^$Node$\"}[1m])) / sum (machine_cpu_cores{kubernetes_io_hostname=~\"^$Node$\"}) * 100","interval":"10s","intervalFactor":1,"refId":"A","step":10}],"thresholds":"65, 90","title":"Cluster CPU usage (1m avg)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"prometheus","decimals":2,"editable":true,"error":false,"format":"percent","gauge":{"maxValue":100,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":5,"w":8,"x":16,"y":7},"height":"180px","id":7,"interval":null,"isNew":true,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"sum (container_fs_usage_bytes{device=~\"^/dev/.*$\",id=\"/\"}) / sum (container_fs_limit_bytes{device=~\"^/dev/.*$\",id=\"/\"}) * 100","interval":"10s","intervalFactor":1,"legendFormat":"","metric":"","refId":"A","step":10}],"thresholds":"65, 90","title":"Cluster filesystem usage","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"prometheus","decimals":2,"editable":true,"error":false,"format":"bytes","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":0,"y":12},"height":"1px","id":9,"interval":null,"isNew":true,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"20%","prefix":"","prefixFontSize":"20%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"sum (container_memory_working_set_bytes{id=\"/\",kubernetes_io_hostname=~\"^$Node$\"})","interval":"10s","intervalFactor":1,"refId":"A","step":10}],"thresholds":"","title":"Used","type":"singlestat","valueFontSize":"50%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"prometheus","decimals":2,"editable":true,"error":false,"format":"bytes","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":4,"y":12},"height":"1px","id":10,"interval":null,"isNew":true,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"sum (machine_memory_bytes{kubernetes_io_hostname=~\"^$Node$\"})","interval":"10s","intervalFactor":1,"refId":"A","step":10}],"thresholds":"","title":"Total","type":"singlestat","valueFontSize":"50%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"prometheus","decimals":2,"editable":true,"error":false,"format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":8,"y":12},"height":"1px","id":11,"interval":null,"isNew":true,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":" cores","postfixFontSize":"30%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"sum (rate (container_cpu_usage_seconds_total{id=\"/\",kubernetes_io_hostname=~\"^$Node$\"}[1m]))","interval":"10s","intervalFactor":1,"refId":"A","step":10}],"thresholds":"","title":"Used","type":"singlestat","valueFontSize":"50%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"prometheus","decimals":2,"editable":true,"error":false,"format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":12,"y":12},"height":"1px","id":12,"interval":null,"isNew":true,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":" cores","postfixFontSize":"30%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"sum (machine_cpu_cores{kubernetes_io_hostname=~\"^$Node$\"})","interval":"10s","intervalFactor":1,"refId":"A","step":10}],"thresholds":"","title":"Total","type":"singlestat","valueFontSize":"50%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"prometheus","decimals":2,"editable":true,"error":false,"format":"bytes","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":16,"y":12},"height":"1px","id":13,"interval":null,"isNew":true,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"sum (container_fs_usage_bytes{device=~\"^/dev/.*$\",id=\"/\"})","interval":"10s","intervalFactor":1,"refId":"A","step":10}],"thresholds":"","title":"Used","type":"singlestat","valueFontSize":"50%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"prometheus","decimals":2,"editable":true,"error":false,"format":"bytes","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":20,"y":12},"height":"1px","id":14,"interval":null,"isNew":true,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"sum (container_fs_limit_bytes{device=~\"^/dev/.*$\",id=\"/\"})","interval":"10s","intervalFactor":1,"refId":"A","step":10}],"thresholds":"","title":"Total","type":"singlestat","valueFontSize":"50%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"collapsed":false,"datasource":null,"gridPos":{"h":1,"w":24,"x":0,"y":15},"id":35,"panels":[],"title":"Pods CPU usage","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","decimals":3,"editable":true,"error":false,"fill":0,"fillGradient":0,"grid":{},"gridPos":{"h":7,"w":24,"x":0,"y":16},"height":"","hiddenSeries":false,"id":17,"isNew":true,"legend":{"alignAsTable":true,"avg":true,"current":true,"max":false,"min":false,"rightSide":true,"show":true,"sort":"current","sortDesc":true,"total":false,"values":true},"lines":true,"linewidth":2,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":true,"targets":[{"expr":"sum (rate (container_cpu_usage_seconds_total{image!=\"\",name=~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\"}[1m])) by (pod_name)","interval":"10s","intervalFactor":1,"legendFormat":"{{ pod_name }}","metric":"container_cpu","refId":"A","step":10}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Pods CPU usage (1m avg)","tooltip":{"msResolution":true,"shared":true,"sort":2,"value_type":"cumulative"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"none","label":"cores","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"datasource":null,"gridPos":{"h":1,"w":24,"x":0,"y":23},"id":37,"panels":[],"title":"Containers CPU usage","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","decimals":3,"editable":true,"error":false,"fill":0,"fillGradient":0,"grid":{},"gridPos":{"h":7,"w":24,"x":0,"y":24},"height":"","hiddenSeries":false,"id":24,"isNew":true,"legend":{"alignAsTable":true,"avg":true,"current":true,"hideEmpty":false,"hideZero":false,"max":false,"min":false,"rightSide":true,"show":true,"sideWidth":null,"sort":"current","sortDesc":true,"total":false,"values":true},"lines":true,"linewidth":2,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":true,"targets":[{"expr":"sum (rate (container_cpu_usage_seconds_total{image!=\"\",name=~\"^k8s_.*\",container_name!=\"POD\",kubernetes_io_hostname=~\"^$Node$\"}[1m])) by (container_name, pod_name)","hide":false,"interval":"10s","intervalFactor":1,"legendFormat":"pod: {{ pod_name }} | {{ container_name }}","metric":"container_cpu","refId":"A","step":10},{"expr":"sum (rate (container_cpu_usage_seconds_total{image!=\"\",name!~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\"}[1m])) by (kubernetes_io_hostname, name, image)","hide":false,"interval":"10s","intervalFactor":1,"legendFormat":"docker: {{ kubernetes_io_hostname }} | {{ image }} ({{ name }})","metric":"container_cpu","refId":"B","step":10},{"expr":"sum (rate (container_cpu_usage_seconds_total{rkt_container_name!=\"\",kubernetes_io_hostname=~\"^$Node$\"}[1m])) by (kubernetes_io_hostname, rkt_container_name)","interval":"10s","intervalFactor":1,"legendFormat":"rkt: {{ kubernetes_io_hostname }} | {{ rkt_container_name }}","metric":"container_cpu","refId":"C","step":10}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Containers CPU usage (1m avg)","tooltip":{"msResolution":true,"shared":true,"sort":2,"value_type":"cumulative"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"none","label":"cores","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"datasource":null,"gridPos":{"h":1,"w":24,"x":0,"y":31},"id":38,"panels":[],"repeat":null,"title":"All processes CPU usage","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","decimals":3,"editable":true,"error":false,"fill":0,"fillGradient":0,"grid":{},"gridPos":{"h":13,"w":24,"x":0,"y":32},"hiddenSeries":false,"id":20,"isNew":true,"legend":{"alignAsTable":true,"avg":true,"current":true,"max":false,"min":false,"rightSide":false,"show":true,"sort":"current","sortDesc":true,"total":false,"values":true},"lines":true,"linewidth":2,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":true,"targets":[{"expr":"sum (rate (container_cpu_usage_seconds_total{id!=\"/\",kubernetes_io_hostname=~\"^$Node$\"}[1m])) by (id)","hide":false,"interval":"10s","intervalFactor":1,"legendFormat":"{{ id }}","metric":"container_cpu","refId":"A","step":10}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"All processes CPU usage (1m avg)","tooltip":{"msResolution":true,"shared":true,"sort":2,"value_type":"cumulative"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"none","label":"cores","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"datasource":null,"gridPos":{"h":1,"w":24,"x":0,"y":45},"id":39,"panels":[],"title":"Pods memory usage","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","decimals":2,"editable":true,"error":false,"fill":0,"fillGradient":0,"grid":{},"gridPos":{"h":7,"w":24,"x":0,"y":46},"hiddenSeries":false,"id":25,"isNew":true,"legend":{"alignAsTable":true,"avg":true,"current":true,"max":false,"min":false,"rightSide":true,"show":true,"sideWidth":200,"sort":"current","sortDesc":true,"total":false,"values":true},"lines":true,"linewidth":2,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":true,"targets":[{"expr":"sum (container_memory_working_set_bytes{image!=\"\",name=~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\"}) by (pod_name)","interval":"10s","intervalFactor":1,"legendFormat":"{{ pod_name }}","metric":"container_memory_usage:sort_desc","refId":"A","step":10}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Pods memory usage","tooltip":{"msResolution":false,"shared":true,"sort":2,"value_type":"cumulative"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"bytes","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"datasource":null,"gridPos":{"h":1,"w":24,"x":0,"y":53},"id":41,"panels":[],"title":"Containers memory usage","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","decimals":2,"editable":true,"error":false,"fill":0,"fillGradient":0,"grid":{},"gridPos":{"h":7,"w":24,"x":0,"y":54},"hiddenSeries":false,"id":27,"isNew":true,"legend":{"alignAsTable":true,"avg":true,"current":true,"max":false,"min":false,"rightSide":true,"show":true,"sideWidth":200,"sort":"current","sortDesc":true,"total":false,"values":true},"lines":true,"linewidth":2,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":true,"targets":[{"expr":"sum (container_memory_working_set_bytes{image!=\"\",name=~\"^k8s_.*\",container_name!=\"POD\",kubernetes_io_hostname=~\"^$Node$\"}) by (container_name, pod_name)","interval":"10s","intervalFactor":1,"legendFormat":"pod: {{ pod_name }} | {{ container_name }}","metric":"container_memory_usage:sort_desc","refId":"A","step":10},{"expr":"sum (container_memory_working_set_bytes{image!=\"\",name!~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\"}) by (kubernetes_io_hostname, name, image)","interval":"10s","intervalFactor":1,"legendFormat":"docker: {{ kubernetes_io_hostname }} | {{ image }} ({{ name }})","metric":"container_memory_usage:sort_desc","refId":"B","step":10},{"expr":"sum (container_memory_working_set_bytes{rkt_container_name!=\"\",kubernetes_io_hostname=~\"^$Node$\"}) by (kubernetes_io_hostname, rkt_container_name)","interval":"10s","intervalFactor":1,"legendFormat":"rkt: {{ kubernetes_io_hostname }} | {{ rkt_container_name }}","metric":"container_memory_usage:sort_desc","refId":"C","step":10}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Containers memory usage","tooltip":{"msResolution":false,"shared":true,"sort":2,"value_type":"cumulative"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"bytes","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"datasource":null,"gridPos":{"h":1,"w":24,"x":0,"y":61},"id":42,"panels":[],"title":"All processes memory usage","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","decimals":2,"editable":true,"error":false,"fill":0,"fillGradient":0,"grid":{},"gridPos":{"h":13,"w":24,"x":0,"y":62},"hiddenSeries":false,"id":28,"isNew":true,"legend":{"alignAsTable":true,"avg":true,"current":true,"max":false,"min":false,"rightSide":false,"show":true,"sideWidth":200,"sort":"current","sortDesc":true,"total":false,"values":true},"lines":true,"linewidth":2,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":true,"targets":[{"expr":"sum (container_memory_working_set_bytes{id!=\"/\",kubernetes_io_hostname=~\"^$Node$\"}) by (id)","interval":"10s","intervalFactor":1,"legendFormat":"{{ id }}","metric":"container_memory_usage:sort_desc","refId":"A","step":10}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"All processes memory usage","tooltip":{"msResolution":false,"shared":true,"sort":2,"value_type":"cumulative"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"bytes","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"datasource":null,"gridPos":{"h":1,"w":24,"x":0,"y":75},"id":43,"panels":[],"title":"Pods network I/O","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","decimals":2,"editable":true,"error":false,"fill":1,"fillGradient":0,"grid":{},"gridPos":{"h":7,"w":24,"x":0,"y":76},"hiddenSeries":false,"id":16,"isNew":true,"legend":{"alignAsTable":true,"avg":true,"current":true,"max":false,"min":false,"rightSide":true,"show":true,"sideWidth":200,"sort":"current","sortDesc":true,"total":false,"values":true},"lines":true,"linewidth":2,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum (rate (container_network_receive_bytes_total{image!=\"\",name=~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\"}[1m])) by (pod_name)","interval":"10s","intervalFactor":1,"legendFormat":"-> {{ pod_name }}","metric":"network","refId":"A","step":10},{"expr":"- sum (rate (container_network_transmit_bytes_total{image!=\"\",name=~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\"}[1m])) by (pod_name)","interval":"10s","intervalFactor":1,"legendFormat":"<- {{ pod_name }}","metric":"network","refId":"B","step":10}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Pods network I/O (1m avg)","tooltip":{"msResolution":false,"shared":true,"sort":2,"value_type":"cumulative"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"Bps","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"datasource":null,"gridPos":{"h":1,"w":24,"x":0,"y":83},"id":44,"panels":[],"title":"Containers network I/O","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","decimals":2,"editable":true,"error":false,"fill":1,"fillGradient":0,"grid":{},"gridPos":{"h":7,"w":24,"x":0,"y":84},"hiddenSeries":false,"id":30,"isNew":true,"legend":{"alignAsTable":true,"avg":true,"current":true,"max":false,"min":false,"rightSide":true,"show":true,"sideWidth":200,"sort":"current","sortDesc":true,"total":false,"values":true},"lines":true,"linewidth":2,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum (rate (container_network_receive_bytes_total{image!=\"\",name=~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\"}[1m])) by (container_name, pod_name)","hide":false,"interval":"10s","intervalFactor":1,"legendFormat":"-> pod: {{ pod_name }} | {{ container_name }}","metric":"network","refId":"B","step":10},{"expr":"- sum (rate (container_network_transmit_bytes_total{image!=\"\",name=~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\"}[1m])) by (container_name, pod_name)","hide":false,"interval":"10s","intervalFactor":1,"legendFormat":"<- pod: {{ pod_name }} | {{ container_name }}","metric":"network","refId":"D","step":10},{"expr":"sum (rate (container_network_receive_bytes_total{image!=\"\",name!~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\"}[1m])) by (kubernetes_io_hostname, name, image)","hide":false,"interval":"10s","intervalFactor":1,"legendFormat":"-> docker: {{ kubernetes_io_hostname }} | {{ image }} ({{ name }})","metric":"network","refId":"A","step":10},{"expr":"- sum (rate (container_network_transmit_bytes_total{image!=\"\",name!~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\"}[1m])) by (kubernetes_io_hostname, name, image)","hide":false,"interval":"10s","intervalFactor":1,"legendFormat":"<- docker: {{ kubernetes_io_hostname }} | {{ image }} ({{ name }})","metric":"network","refId":"C","step":10},{"expr":"sum (rate (container_network_transmit_bytes_total{rkt_container_name!=\"\",kubernetes_io_hostname=~\"^$Node$\"}[1m])) by (kubernetes_io_hostname, rkt_container_name)","hide":false,"interval":"10s","intervalFactor":1,"legendFormat":"-> rkt: {{ kubernetes_io_hostname }} | {{ rkt_container_name }}","metric":"network","refId":"E","step":10},{"expr":"- sum (rate (container_network_transmit_bytes_total{rkt_container_name!=\"\",kubernetes_io_hostname=~\"^$Node$\"}[1m])) by (kubernetes_io_hostname, rkt_container_name)","hide":false,"interval":"10s","intervalFactor":1,"legendFormat":"<- rkt: {{ kubernetes_io_hostname }} | {{ rkt_container_name }}","metric":"network","refId":"F","step":10}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Containers network I/O (1m avg)","tooltip":{"msResolution":false,"shared":true,"sort":2,"value_type":"cumulative"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"Bps","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"datasource":null,"gridPos":{"h":1,"w":24,"x":0,"y":91},"id":45,"panels":[],"title":"All processes network I/O","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","decimals":2,"editable":true,"error":false,"fill":1,"fillGradient":0,"grid":{},"gridPos":{"h":13,"w":24,"x":0,"y":92},"hiddenSeries":false,"id":29,"isNew":true,"legend":{"alignAsTable":true,"avg":true,"current":true,"max":false,"min":false,"rightSide":false,"show":true,"sideWidth":200,"sort":"current","sortDesc":true,"total":false,"values":true},"lines":true,"linewidth":2,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum (rate (container_network_receive_bytes_total{id!=\"/\",kubernetes_io_hostname=~\"^$Node$\"}[1m])) by (id)","interval":"10s","intervalFactor":1,"legendFormat":"-> {{ id }}","metric":"network","refId":"A","step":10},{"expr":"- sum (rate (container_network_transmit_bytes_total{id!=\"/\",kubernetes_io_hostname=~\"^$Node$\"}[1m])) by (id)","interval":"10s","intervalFactor":1,"legendFormat":"<- {{ id }}","metric":"network","refId":"B","step":10}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"All processes network I/O (1m avg)","tooltip":{"msResolution":false,"shared":true,"sort":2,"value_type":"cumulative"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"Bps","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}}],"refresh":"10s","schemaVersion":21,"style":"dark","tags":["kubernetes"],"templating":{"list":[{"allValue":".*","current":{"selected":false,"text":"All","value":"$__all"},"datasource":"prometheus","definition":"","hide":0,"includeAll":true,"label":null,"multi":false,"name":"Node","options":[],"query":"label_values(kubernetes_io_hostname)","refresh":1,"regex":"","skipUrlSync":false,"sort":0,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false}]},"time":{"from":"now-5m","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"],"time_options":["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone":"browser","title":"Kubernetes Cluster Monitoring","uid":"QHPvs7PZk","version":2}
  pd-by-server-dashboard.json: |
    {"annotations":{"list":[{"builtIn":1,"datasource":"-- Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations & Alerts","type":"dashboard"}]},"description":"PingDirectory Metrics by Server","editable":true,"gnetId":null,"graphTooltip":0,"iteration":1579119678829,"links":[],"panels":[{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":0,"y":0},"hiddenSeries":false,"id":4,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum by (instance) (throughput{namespace=\"$namespace\"})","legendFormat":"{{instance}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Throughput by Server","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Operations per Second","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":9,"w":12,"x":12,"y":0},"hiddenSeries":false,"id":2,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"throughput{namespace=\"$namespace\"}","legendFormat":"{{instance}}-{{operation}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Throughput by Operation and Server","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Operations per Second","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":0,"y":8},"hiddenSeries":false,"id":8,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"avg by (instance) (response_time{namespace=\"$namespace\"} > 0)","legendFormat":"{{instance}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Average Operation Latency by Server","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Latency (ms)","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":12,"y":9},"hiddenSeries":false,"id":7,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"response_time{namespace=\"$namespace\"} > 0","legendFormat":"{{instance}}-{{operation}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Average Latency by Operation and Server","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Latency (ms)","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":0,"y":16},"hiddenSeries":false,"id":11,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum by (gcType, size, cause, instance) (rate(garbage_collections{namespace=\"$namespace\"}[1m]))","legendFormat":"{{instance}}-{{gcType}}-{{size}}-{{cause}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Garbage Collection Rate by Server","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Collections per Minute","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":12,"y":17},"hiddenSeries":false,"id":12,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum by (instance) (garbage_collection_live_megabytes{namespace=\"$namespace\"})","legendFormat":"{{instance}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"GC Live Megabytes by Server","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Megabytes","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}}],"schemaVersion":21,"style":"dark","tags":[],"templating":{"list":[{"current":{"selected":false,"text":"${PING_IDENTITY_K8S_NAMESPACE}","value":"${PING_IDENTITY_K8S_NAMESPACE}"},"hide":0,"label":null,"name":"namespace","options":[{"selected":false,"text":"${PING_IDENTITY_K8S_NAMESPACE}","value":"${PING_IDENTITY_K8S_NAMESPACE}"}],"query":"${PING_IDENTITY_K8S_NAMESPACE}","skipUrlSync":false,"type":"textbox"}]},"time":{"from":"now-6h","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"]},"timezone":"","title":"PingDirectory Per-Server Dashboard","uid":"VCYeVWEZz","version":1}
  ping-performance-test.json: |
    {"annotations":{"list":[{"builtIn":1,"datasource":"$data_source","enable":true,"hide":false,"iconColor":"rgba(0, 211, 255, 1)","limit":100,"name":"Start/stop marker","query":"select text from events where $timeFilter","showIn":0,"textColumn":"","type":"dashboard"},{"builtIn":1,"datasource":"-- Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations & Alerts","type":"dashboard"}]},"editable":true,"gnetId":null,"graphTooltip":0,"id":17,"iteration":1592234294828,"links":[],"panels":[{"collapsed":false,"datasource":null,"gridPos":{"h":1,"w":24,"x":0,"y":0},"id":67,"panels":[],"title":"Summary","type":"row"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["#299c46","#e5ac0e","#d44a3a"],"datasource":"InfluxDB.jmeter","decimals":0,"format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":4,"w":5,"x":0,"y":1},"height":"","id":69,"interval":"[[send_interval]]s","links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":" Requests","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"#e5ac0e","show":false},"tableColumn":"","targets":[{"dsType":"influxdb","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"orderByTime":"ASC","policy":"default","query":"SELECT sum(\"count\") FROM  \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE ( \"application\" =~ /^$jm_application$/ AND \"transaction\" =~ /^$jm_transaction$/ AND $timeFilter ) GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]}],"thresholds":"","title":"Total Requests - Client (j)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["#299c46","#e24d42","#d44a3a"],"datasource":"$data_source","decimals":0,"description":"failed requests for *all* transactions of a single measurement","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":4,"w":4,"x":5,"y":1},"height":"","id":49,"interval":"[[send_interval]]s","links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":" Failed","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"#bf1b00","show":false},"tableColumn":"","targets":[{"dsType":"influxdb","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"orderByTime":"ASC","policy":"default","query":"SELECT sum(\"countError\") FROM  \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE ( \"application\" =~ /^$jm_application$/ AND \"transaction\" =~ /^$jm_transaction$/ AND $timeFilter ) GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]},{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":true,"measurement":"/^$measurement$/","orderByTime":"ASC","policy":"autogen","query":"SELECT sum(\"countError\") FROM \"autogen\"./^$measurement$/ WHERE $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"B","resultFormat":"time_series","select":[[{"params":["countError"],"type":"field"},{"params":[],"type":"sum"}]],"tags":[]}],"thresholds":"","title":"Failed Requests - Client (j)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["#299c46","#e24d42","#d44a3a"],"datasource":"$data_source","decimals":0,"format":"bytes","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":4,"w":4,"x":9,"y":1},"height":"","id":51,"interval":"[[send_interval]]s","links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":" ","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"#bf1b00","show":false},"tableColumn":"","targets":[{"dsType":"influxdb","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"orderByTime":"ASC","policy":"default","query":"SELECT sum(\"rb\") FROM  \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE ( \"application\" =~ /^$jm_application$/ AND \"transaction\" =~ /^$jm_transaction$/ AND $timeFilter ) AND $timeFilter ","rawQuery":true,"refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]}],"thresholds":"","title":"Received Bytes - Client (j)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["#299c46","#e24d42","#d44a3a"],"datasource":"$data_source","decimals":0,"format":"bytes","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":4,"w":4,"x":13,"y":1},"height":"","id":123,"interval":"[[send_interval]]s","links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":" ","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"#bf1b00","show":false},"tableColumn":"","targets":[{"dsType":"influxdb","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"orderByTime":"ASC","policy":"default","query":"SELECT max(\"sb\") FROM  \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE ( \"application\" =~ /^$jm_application$/ AND \"transaction\" =~ /^$jm_transaction$/ AND $timeFilter ) GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]}],"thresholds":"","title":"Sent Bytes - Client (j)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["#299c46","#ef843c","#e24d42"],"datasource":"$data_source","decimals":2,"format":"percentunit","gauge":{"maxValue":1,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":4,"w":7,"x":17,"y":1},"id":55,"interval":"[[send_interval]]s","links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"dsType":"influxdb","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"orderByTime":"ASC","policy":"default","query":"SELECT sum(\"error\") / sum(\"all\") FROM (SELECT sum(\"count\") AS \"all\" FROM  \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE ( \"application\" =~ /^$jm_application$/ AND \"transaction\" =~ /^$jm_transaction$/ AND $timeFilter ) GROUP BY time($__interval) fill(null)), (SELECT sum(\"countError\") AS \"error\" FROM  \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE ( \"application\" =~ /^$jm_application$/ AND \"transaction\" =~ /^$jm_transaction$/ AND $timeFilter ) GROUP BY time($__interval) fill(null))","rawQuery":true,"refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]}],"thresholds":"0,0.01","title":"Error Rate % - Client (j)","type":"singlestat","valueFontSize":"50%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"aliasColors":{"No of Errors":"#6ED0E0","Req / s":"#6ed0e0","Req / sec":"#65c5db"},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"$data_source","decimals":0,"editable":true,"error":false,"fill":3,"fillGradient":0,"gridPos":{"h":7,"w":9,"x":0,"y":5},"hiddenSeries":false,"id":90,"interval":"[[send_interval]]s","legend":{"alignAsTable":true,"avg":true,"current":false,"max":true,"min":false,"rightSide":false,"show":true,"sort":null,"sortDesc":null,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pluginVersion":"6.5.3","pointradius":1,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"","dsType":"influxdb","groupBy":[{"params":["$__interval"],"type":"time"}],"measurement":"jmeter","orderByTime":"ASC","policy":"default","query":"SELECT sum(\"count\") / $send_interval FROM  \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE ( \"application\" != '' AND \"transaction\" =~ /^$jm_transaction$/ AND $timeFilter ) GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"A","resultFormat":"time_series","select":[[{"params":["count"],"type":"field"},{"params":[],"type":"last"}]],"tags":[{"key":"transaction","operator":"=","value":"all"},{"condition":"AND","key":"application","operator":"=~","value":"/^$application$/"}]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Total Throughput - Client (j)","tooltip":{"msResolution":false,"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"none","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{"banner":"#508642"},"bars":false,"dashLength":10,"dashes":false,"datasource":"$data_source","decimals":2,"editable":true,"error":false,"fill":1,"fillGradient":0,"gridPos":{"h":7,"w":8,"x":9,"y":5},"height":"","hiddenSeries":false,"id":97,"interval":"[[send_interval]]s","legend":{"alignAsTable":false,"avg":true,"current":false,"hideEmpty":false,"hideZero":false,"max":true,"min":false,"rightSide":false,"show":true,"sideWidth":null,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":1,"points":false,"renderer":"flot","repeatDirection":"h","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"99%","dsType":"influxdb","groupBy":[{"params":["transaction"],"type":"tag"}],"hide":false,"measurement":"jmeter","orderByTime":"ASC","policy":"default","query":"SELECT mean(\"pct99.0\") FROM \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE (\"application\" =~ /^$jm_application$/ AND \"transaction\"='all') AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"B","resultFormat":"time_series","select":[[{"params":["pct95.0"],"type":"field"}]],"tags":[{"key":"statut","operator":"=","value":"ok"},{"condition":"AND","key":"application","operator":"=~","value":"/^$application$/"}]},{"alias":"95%","dsType":"influxdb","groupBy":[{"params":["transaction"],"type":"tag"}],"hide":false,"measurement":"jmeter","orderByTime":"ASC","policy":"default","query":"SELECT mean(\"pct95.0\") FROM \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE (\"application\" =~ /^$jm_application$/ AND \"transaction\"='all') AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"A","resultFormat":"time_series","select":[[{"params":["pct95.0"],"type":"field"}]],"tags":[{"key":"statut","operator":"=","value":"ok"},{"condition":"AND","key":"application","operator":"=~","value":"/^$application$/"}]},{"alias":"90%","dsType":"influxdb","groupBy":[{"params":["transaction"],"type":"tag"}],"hide":false,"measurement":"jmeter","orderByTime":"ASC","policy":"default","query":"SELECT mean(\"pct90.0\") FROM \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE (\"application\" =~ /^$jm_application$/ AND \"transaction\"='all') AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"C","resultFormat":"time_series","select":[[{"params":["pct95.0"],"type":"field"}]],"tags":[{"key":"statut","operator":"=","value":"ok"},{"condition":"AND","key":"application","operator":"=~","value":"/^$application$/"}]}],"thresholds":[{"colorMode":"ok","fill":true,"fillColor":"rgba(31, 166, 21, 0.07)","line":true,"lineColor":"rgba(31, 96, 196, 0.6)","op":"lt","value":124,"yaxis":"left"},{"colorMode":"warning","fill":false,"line":true,"op":"gt","value":170,"yaxis":"left"},{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":5000,"yaxis":"left"}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Total Response Times 99,95,90% - Client (j)","tooltip":{"msResolution":false,"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"ms","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{"Threads":"#614d93","threads":"#614d93"},"bars":false,"dashLength":10,"dashes":false,"datasource":"$data_source","decimals":0,"fill":6,"fillGradient":0,"gridPos":{"h":7,"w":7,"x":17,"y":5},"hiddenSeries":false,"id":61,"interval":"[[send_interval]]s","legend":{"alignAsTable":true,"avg":false,"current":true,"max":false,"min":false,"show":true,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"Threads","dsType":"influxdb","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":true,"orderByTime":"ASC","policy":"default","query":"SELECT last(\"maxAT\") FROM  \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE ( \"application\" =~ /^$jm_application$/ AND \"transaction\" = 'internal' AND $timeFilter ) GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]},{"alias":"Threads","dsType":"influxdb","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"orderByTime":"ASC","policy":"default","query":"SELECT sum(\"maxAT\") FROM  \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE ( \"application\" != '' AND \"transaction\" = 'internal' AND $timeFilter ) GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"B","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Active Threads - Client (j)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":0,"format":"none","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":7,"w":6,"x":0,"y":12},"hiddenSeries":false,"id":92,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","repeatDirection":"h","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"(\n  label_replace(\n    (sum(rate(container_cpu_usage_seconds_total{container_name=~\"$server\",namespace=\"$namespace\"}[$range_interval])) by (pod_name)),\n    \"pod\",\"$1\",\"pod_name\",\"(.+)\"\n  )\n  / on (pod) \n  (sum(kube_pod_container_resource_requests_cpu_cores{container=~\"$server\",node!=\"\",namespace=\"$namespace\"}) by (pod))\n)*100","legendFormat":"{{pod}}","refId":"B"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"CPU usage % - Server (k)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"percent","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":"","logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":7,"w":6,"x":6,"y":12},"hiddenSeries":false,"id":93,"interval":"","legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"(\n  label_replace(\n    (sum(container_memory_working_set_bytes{container_name=~\"$server\",namespace=\"$namespace\"}) by (pod_name)),\n    \"pod\",\"$1\",\"pod_name\",\"(.+)\"\n  )\n  / on (pod) \n  (sum(kube_pod_container_resource_requests_memory_bytes{container=~\"$server\",node!=\"\",namespace=\"$namespace\"}) by (pod))\n)*100","instant":false,"legendFormat":"{{pod}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Memory Used (%) - Server (k)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":null,"format":"percent","label":null,"logBase":1,"max":null,"min":null,"show":true},{"decimals":null,"format":"short","label":"","logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":7,"w":6,"x":12,"y":12},"hiddenSeries":false,"id":95,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","repeatDirection":"h","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"(\n  label_replace(\n    (sum(rate(container_cpu_usage_seconds_total{container_name!=\"POD\",pod!~\"ping.*\",namespace=\"$namespace\"}[$range_interval])) by (pod_name)),\n    \"pod\",\"$1\",\"pod_name\",\"(.+)\"\n  )\n  / on (pod) \n  (sum(kube_pod_container_resource_requests_cpu_cores{container_name!=\"POD\",pod!~\"ping.*\",namespace=\"$namespace\"}) by (pod))\n)*100","legendFormat":"{{pod}}","refId":"B"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"CPU usage % - Client (k)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"percent","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":"","logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":7,"w":6,"x":18,"y":12},"hiddenSeries":false,"id":96,"interval":"","legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"(\n  label_replace(\n    (sum(container_memory_working_set_bytes{container_name!~\"ping.*\",namespace=\"$namespace\"}) by (pod_name)),\n    \"pod\",\"$1\",\"pod_name\",\"(.+)\"\n  )\n  / on (pod) \n  (sum(kube_pod_container_resource_requests_memory_bytes{container!~\"ping.*\",node!=\"\",namespace=\"$namespace\"}) by (pod))\n)*100","hide":false,"instant":false,"legendFormat":"{{pod}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Memory Used % - Client (k)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"percent","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"columns":[],"datasource":"prometheus","description":"","fontSize":"100%","gridPos":{"h":5,"w":14,"x":0,"y":19},"id":33,"options":{},"pageSize":null,"pluginVersion":"6.5.3","showHeader":true,"sort":{"col":11,"desc":true},"styles":[{"alias":"","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"Time","thresholds":[],"type":"hidden","unit":"short"},{"alias":"cpu - requests","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"Value #A","thresholds":[],"type":"number","unit":"short"},{"alias":"cpu - limit","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"Value #B","thresholds":[],"type":"number","unit":"short"},{"alias":"mem - requests","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":1,"mappingType":1,"pattern":"Value #C","thresholds":[],"type":"number","unit":"gbytes"},{"alias":"mem - limit","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":1,"mappingType":1,"pattern":"Value #D","thresholds":[],"type":"number","unit":"gbytes"}],"targets":[{"expr":"(sum(kube_pod_container_resource_limits_cpu_cores{container=~\"$server\",node!=\"\",namespace=\"$namespace\"}) by (node,pod)) + on(node) \ngroup_left(nodegroupNzone) (0 * label_join(\n    kube_node_labels,\n    \"nodegroupNzone\",\", \",\"label_alpha_eksctl_io_nodegroup_name\",\"label_failure_domain_beta_kubernetes_io_zone\"\n  ))","format":"table","hide":false,"instant":true,"refId":"B"},{"expr":"(sum(kube_pod_container_resource_limits_memory_bytes{container=~\"$server\",node!=\"\",namespace=\"$namespace\"}) by (node,pod))/1073741824 + on(node) \ngroup_left(nodegroupNzone) (0 * label_join(\n    kube_node_labels,\n    \"nodegroupNzone\",\", \",\"label_alpha_eksctl_io_nodegroup_name\",\"label_failure_domain_beta_kubernetes_io_zone\"\n  ))","format":"table","hide":false,"instant":true,"refId":"D"},{"expr":"(sum(kube_pod_container_resource_requests_cpu_cores{container=~\"$server\",node!=\"\",namespace=\"$namespace\"}) by (node,pod)) + on(node) \ngroup_left(nodegroupNzone) (0 * label_join(\n    kube_node_labels,\n    \"nodegroupNzone\",\", \",\"label_alpha_eksctl_io_nodegroup_name\",\"label_failure_domain_beta_kubernetes_io_zone\"\n  ))","format":"table","hide":false,"instant":true,"intervalFactor":1,"legendFormat":"","refId":"A"},{"expr":"(sum(kube_pod_container_resource_requests_memory_bytes{container=~\"$server\",node!=\"\",namespace=\"$namespace\"}) by (node,pod))/1073741824 + on(node) \ngroup_left(nodegroupNzone) (0 * label_join(\n    kube_node_labels,\n    \"nodegroupNzone\",\", \",\"label_alpha_eksctl_io_nodegroup_name\",\"label_failure_domain_beta_kubernetes_io_zone\"\n  ))","format":"table","hide":false,"instant":true,"refId":"C"},{"expr":"(sum(kube_pod_container_resource_requests_memory_bytes{container=~\"$server\",node!=\"\",namespace=\"$namespace\"}) by (node,pod))/1073741824 + on(node) \ngroup_left(nodegroupNzone) (0 * label_join(\n    kube_node_labels,\n    \"nodegroupNzone\",\", \",\"label_alpha_eksctl_io_nodegroup_name\",\"label_failure_domain_beta_kubernetes_io_zone\"\n  ))","format":"table","hide":true,"instant":true,"refId":"E"}],"timeFrom":null,"timeShift":null,"title":"Allocated Resources per Container - Server (k)","transform":"table","type":"table"},{"columns":[],"datasource":"prometheus","fontSize":"100%","gridPos":{"h":5,"w":10,"x":14,"y":19},"id":43,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":2,"desc":false},"styles":[{"alias":"Time","dateFormat":"YYYY-MM-DD HH:mm:ss","link":false,"pattern":"Time","type":"hidden"},{"alias":"cpus","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"decimals":1,"pattern":"Value #A","thresholds":[],"type":"number","unit":"short"},{"alias":"mem","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":1,"mappingType":1,"pattern":"Value #B","thresholds":[],"type":"number","unit":"gbytes"}],"targets":[{"expr":"(sum(kube_pod_container_resource_limits_cpu_cores{container!~\"ping.*\",node!=\"\",namespace=\"$namespace\"}) by (node,pod)) + on(node) \ngroup_left(nodegroupNzone) (0 * label_join(\n    kube_node_labels,\n    \"nodegroupNzone\",\", \",\"label_alpha_eksctl_io_nodegroup_name\",\"label_failure_domain_beta_kubernetes_io_zone\"\n  ))","format":"table","hide":false,"instant":true,"refId":"A"},{"expr":"(sum(kube_pod_container_resource_limits_memory_bytes{container!~\"ping.*\",node!=\"\",namespace=\"$namespace\"}) by (node,pod))/1073741824 + on(node) \ngroup_left(nodegroupNzone) (0 * label_join(\n    kube_node_labels,\n    \"nodegroupNzone\",\", \",\"label_alpha_eksctl_io_nodegroup_name\",\"label_failure_domain_beta_kubernetes_io_zone\"\n  ))","format":"table","hide":false,"instant":true,"refId":"B"}],"timeFrom":null,"timeShift":null,"title":"Load Generator Resources Allocated - Client (k)","transform":"table","type":"table"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":7,"w":12,"x":0,"y":24},"hiddenSeries":false,"id":98,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(rate(container_network_transmit_bytes_total{namespace=\"$namespace\",pod!=\"\"}[1m])) by (pod)","format":"time_series","legendFormat":"","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Network io bytes out - Server/client (k)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":7,"w":12,"x":12,"y":24},"hiddenSeries":false,"id":45,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(rate(container_network_receive_bytes_total{namespace=\"$namespace\",pod=~\"$server.*\"}[1m])) by (pod)","format":"time_series","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Network io bytes in - Server (k)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"datasource":null,"gridPos":{"h":1,"w":24,"x":0,"y":31},"id":65,"panels":[],"title":"Resource Utilization","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":6,"w":12,"x":0,"y":32},"hiddenSeries":false,"id":38,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","repeatDirection":"h","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(rate(container_cpu_usage_seconds_total{container_name=~\"$server\",namespace=\"$namespace\"}[$range_interval])) by (pod_name) ","legendFormat":"{{pod_name}}","refId":"B"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"CPU - # of cores - Server (k)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":6,"w":12,"x":12,"y":32},"hiddenSeries":false,"id":35,"interval":"","legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"(sum(container_memory_working_set_bytes{container_name=~\"$server\",namespace=\"$namespace\"}) by (pod_name))/1073741824","instant":false,"legendFormat":"{{pod_name}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Memory Used (GiB) - Server (k)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"gbytes","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":6,"w":12,"x":0,"y":38},"hiddenSeries":false,"id":91,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","repeatDirection":"h","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(rate(container_cpu_usage_seconds_total{container_name!~\"ping.*\",namespace=\"$namespace\"}[$range_interval])) by (pod_name) ","legendFormat":"{{pod_name}}","refId":"B"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"CPU - # of cores - Client (k)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":6,"w":12,"x":12,"y":38},"hiddenSeries":false,"id":99,"interval":"","legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"(sum(container_memory_working_set_bytes{pod_name!~\"ping.*\",namespace=\"$namespace\"}) by (pod_name))/1073741824","instant":false,"legendFormat":"{{pod_name}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Memory Used (GiB) - Client (k)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"gbytes","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"datasource":null,"gridPos":{"h":1,"w":24,"x":0,"y":44},"id":63,"panels":[],"repeat":null,"title":"Throughput","type":"row"},{"aliasColors":{"No of Errors":"#BF1B00","Num of Errors":"#bf1b00"},"bars":false,"dashLength":10,"dashes":false,"datasource":"$data_source","decimals":0,"editable":true,"error":false,"fill":7,"fillGradient":0,"gridPos":{"h":8,"w":8,"x":0,"y":45},"hiddenSeries":false,"id":59,"interval":"[[send_interval]]s","legend":{"alignAsTable":true,"avg":true,"current":false,"max":true,"min":false,"rightSide":false,"show":true,"total":true,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":1,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"Num of Errors","dsType":"influxdb","groupBy":[{"params":["$aggregation"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"jmeter","orderByTime":"ASC","policy":"default","query":"SELECT sum(\"countError\") FROM  \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE ( \"application\" =~ /^$jm_application$/ AND \"transaction\" =~ /^$jm_transaction$/ AND $timeFilter ) GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"B","resultFormat":"time_series","select":[[{"params":["countError"],"type":"field"},{"params":[],"type":"sum"}]],"tags":[{"key":"transaction","operator":"=","value":"all"},{"condition":"AND","key":"application","operator":"=~","value":"/^$application$/"}]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Total Errors - Client (j)","tooltip":{"msResolution":false,"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":0,"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{"No of Errors":"#6ED0E0","Req / s":"#6ed0e0","Req / sec":"#65c5db"},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"$data_source","decimals":2,"editable":true,"error":false,"fill":3,"fillGradient":0,"gridPos":{"h":8,"w":8,"x":8,"y":45},"hiddenSeries":false,"id":100,"interval":"[[send_interval]]s","legend":{"alignAsTable":true,"avg":true,"current":false,"max":true,"min":false,"rightSide":false,"show":true,"sort":null,"sortDesc":null,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pluginVersion":"6.5.3","pointradius":1,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"modify","dsType":"influxdb","groupBy":[{"params":["$__interval"],"type":"time"}],"hide":false,"measurement":"jmeter","orderByTime":"ASC","policy":"default","query":"SELECT (sum(\"count\") / $send_interval)/2 FROM  \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE ( \"application\" != '' AND \"transaction\" =~/^Mod.*/ AND $timeFilter ) GROUP BY  time($__interval) fill(null)","rawQuery":true,"refId":"A","resultFormat":"time_series","select":[[{"params":["count"],"type":"field"},{"params":[],"type":"last"}]],"tags":[{"key":"transaction","operator":"=","value":"all"},{"condition":"AND","key":"application","operator":"=~","value":"/^$application$/"}]},{"alias":"bind","dsType":"influxdb","groupBy":[{"params":["$__interval"],"type":"time"}],"hide":false,"measurement":"jmeter","orderByTime":"ASC","policy":"default","query":"SELECT (sum(\"count\") / $send_interval)/2 FROM  \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE ( \"application\" != '' AND \"transaction\" =~ /^Bind.*/ AND $timeFilter ) GROUP BY  time($__interval) fill(null)","rawQuery":true,"refId":"B","resultFormat":"time_series","select":[[{"params":["count"],"type":"field"},{"params":[],"type":"last"}]],"tags":[{"key":"transaction","operator":"=","value":"all"},{"condition":"AND","key":"application","operator":"=~","value":"/^$application$/"}]},{"alias":"search","dsType":"influxdb","groupBy":[{"params":["$__interval"],"type":"time"}],"hide":false,"measurement":"jmeter","orderByTime":"ASC","policy":"default","query":"SELECT (sum(\"count\") / $send_interval)/2 FROM  \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE ( \"application\" != '' AND \"transaction\" =~ /^Search.*/ AND $timeFilter ) GROUP BY  time($__interval) fill(null)","rawQuery":true,"refId":"C","resultFormat":"time_series","select":[[{"params":["count"],"type":"field"},{"params":[],"type":"last"}]],"tags":[{"key":"transaction","operator":"=","value":"all"},{"condition":"AND","key":"application","operator":"=~","value":"/^$application$/"}]},{"alias":"all","dsType":"influxdb","groupBy":[{"params":["$__interval"],"type":"time"}],"hide":false,"measurement":"jmeter","orderByTime":"ASC","policy":"default","query":"SELECT sum(\"count\") / $send_interval FROM  \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE ( \"application\" != '' AND \"transaction\" = 'all' AND $timeFilter ) GROUP BY  time($__interval) fill(null)","rawQuery":true,"refId":"D","resultFormat":"time_series","select":[[{"params":["count"],"type":"field"},{"params":[],"type":"last"}]],"tags":[{"key":"transaction","operator":"=","value":"all"},{"condition":"AND","key":"application","operator":"=~","value":"/^$application$/"}]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Total Throughput by Transaction - Client (j)","tooltip":{"msResolution":false,"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{"No of Errors":"#6ED0E0","Req / s":"#6ed0e0","Req / sec":"#65c5db"},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"$data_source","decimals":2,"editable":true,"error":false,"fill":3,"fillGradient":0,"gridPos":{"h":8,"w":8,"x":16,"y":45},"hiddenSeries":false,"id":125,"interval":"[[send_interval]]s","legend":{"alignAsTable":true,"avg":true,"current":false,"max":true,"min":false,"rightSide":false,"show":true,"sort":null,"sortDesc":null,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pluginVersion":"6.5.3","pointradius":1,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"$tag_application","dsType":"influxdb","groupBy":[{"params":["$__interval"],"type":"time"}],"hide":false,"measurement":"jmeter","orderByTime":"ASC","policy":"default","query":"SELECT sum(\"count\") / $send_interval FROM  \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE ( \"application\" != '' AND \"transaction\" = 'all' AND $timeFilter ) GROUP BY  application,time($__interval) fill(null)","rawQuery":true,"refId":"D","resultFormat":"time_series","select":[[{"params":["count"],"type":"field"},{"params":[],"type":"last"}]],"tags":[{"key":"transaction","operator":"=","value":"all"},{"condition":"AND","key":"application","operator":"=~","value":"/^$application$/"}]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Total Throughput by client - Client (j)","tooltip":{"msResolution":false,"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"columns":[],"datasource":"$data_source","fontSize":"100%","gridPos":{"h":7,"w":8,"x":0,"y":53},"height":"","id":75,"interval":"[[send_interval]]s","links":[],"options":{},"pageSize":null,"scroll":true,"showHeader":true,"sort":{"col":2,"desc":true},"styles":[{"alias":"Time","dateFormat":"YYYY-MM-DD HH:mm:ss","pattern":"Time","type":"hidden"},{"alias":"","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"decimals":0,"pattern":"/.*/","thresholds":[],"type":"number","unit":"short"}],"targets":[{"alias":"$tag_transaction","dsType":"influxdb","groupBy":[{"params":["transaction"],"type":"tag"}],"hide":true,"measurement":"jmeter","orderByTime":"ASC","policy":"default","query":"SELECT sum(\"count\") FROM \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE (\"statut\" = 'ko') AND $timeFilter GROUP BY \"transaction\"","rawQuery":true,"refId":"A","resultFormat":"table","select":[[{"params":["count"],"type":"field"},{"params":[],"type":"sum"}]],"tags":[{"key":"application","operator":"=~","value":"/^$application$/"},{"condition":"AND","key":"statut","operator":"=","value":"ko"}]}],"title":"Errors per Transaction - Client (j)","transform":"table","type":"table"},{"columns":[],"datasource":"$data_source","fontSize":"100%","gridPos":{"h":7,"w":16,"x":8,"y":53},"id":71,"interval":"","links":[],"options":{},"pageSize":null,"scroll":true,"showHeader":true,"sort":{"col":null,"desc":false},"styles":[{"alias":"","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss.SSS","decimals":2,"mappingType":1,"pattern":"Time","thresholds":[],"type":"date","unit":"short"},{"alias":"","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"responseCode","thresholds":[],"type":"string","unit":"short"},{"alias":"","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"responseMessage","thresholds":[],"type":"number","unit":"short"},{"alias":"","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"link":false,"mappingType":1,"pattern":"/.*/","thresholds":[],"type":"hidden","unit":"short"}],"targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":true,"orderByTime":"ASC","policy":"default","query":"SELECT * FROM  \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE ( \"application\" =~ /^$jm_application$/ AND \"responseCode\" != ''  AND $timeFilter)","rawQuery":true,"refId":"A","resultFormat":"table","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]}],"title":"Error Info - Client (j)","transform":"table","type":"table"}],"refresh":false,"schemaVersion":21,"style":"dark","tags":[],"templating":{"list":[{"current":{"selected":false,"text":"${PING_IDENTITY_K8S_NAMESPACE}","value":"${PING_IDENTITY_K8S_NAMESPACE}"},"hide":0,"label":null,"name":"namespace","options":[{"selected":false,"text":"${PING_IDENTITY_K8S_NAMESPACE}","value":"${PING_IDENTITY_K8S_NAMESPACE}"}],"query":"${PING_IDENTITY_K8S_NAMESPACE}","skipUrlSync":false,"type":"textbox"},{"current":{"selected":true,"text":"1m","value":"1m"},"hide":0,"label":"range_interval","name":"range_interval","options":[{"selected":true,"text":"1m","value":"1m"}],"query":"1m","skipUrlSync":false,"type":"textbox"},{"current":{"selected":true,"text":"InfluxDB.jmeter","value":"InfluxDB.jmeter"},"hide":0,"includeAll":false,"label":null,"multi":false,"name":"data_source","options":[],"query":"influxdb","refresh":1,"regex":"","skipUrlSync":false,"type":"datasource"},{"allValue":null,"current":{"selected":true,"text":"jmeter","value":"jmeter"},"datasource":"$data_source","definition":"SHOW DATABASES","hide":0,"includeAll":false,"label":null,"multi":false,"name":"jm_database","options":[{"selected":false,"text":"_internal","value":"_internal"},{"selected":true,"text":"jmeter","value":"jmeter"},{"selected":false,"text":"pingfederate","value":"pingfederate"},{"selected":false,"text":"telegraf","value":"telegraf"}],"query":"SHOW DATABASES","refresh":0,"regex":"","skipUrlSync":false,"sort":0,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false},{"allValue":null,"current":{"selected":true,"text":"jmeter","value":"jmeter"},"datasource":"$data_source","definition":"SHOW MEASUREMENTS ON \"$jm_database\"","hide":0,"includeAll":false,"label":null,"multi":false,"name":"jm_measurement","options":[{"selected":false,"text":"events","value":"events"},{"selected":true,"text":"jmeter","value":"jmeter"}],"query":"SHOW MEASUREMENTS ON \"$jm_database\"","refresh":0,"regex":"","skipUrlSync":false,"sort":0,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false},{"allValue":null,"current":{"selected":true,"tags":[],"text":"autogen","value":"autogen"},"datasource":"$data_source","definition":"SHOW RETENTION POLICIES on \"$jm_database\"","hide":0,"includeAll":false,"label":null,"multi":false,"name":"jm_retention","options":[{"selected":true,"text":"autogen","value":"autogen"},{"selected":false,"text":"perf","value":"perf"}],"query":"SHOW RETENTION POLICIES on \"$jm_database\"","refresh":0,"regex":"","skipUrlSync":false,"sort":0,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false},{"allValue":"*","current":{"text":"All","value":["$__all"]},"datasource":"$data_source","definition":"SHOW TAG VALUES ON \"$jm_database\" FROM \"$jm_measurement\" WITH KEY = \"application\"","hide":0,"includeAll":true,"label":null,"multi":true,"name":"jm_application","options":[],"query":"SHOW TAG VALUES ON \"$jm_database\" FROM \"$jm_measurement\" WITH KEY = \"application\"","refresh":2,"regex":"","skipUrlSync":false,"sort":0,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false},{"allValue":null,"current":{"isNone":true,"selected":false,"text":"None","value":""},"datasource":"$data_source","definition":"SHOW TAG VALUES ON \"$jm_database\" FROM \"$jm_measurement\" WITH KEY = \"transaction\"","hide":0,"includeAll":false,"label":null,"multi":false,"name":"jm_transaction","options":[],"query":"SHOW TAG VALUES ON \"$jm_database\" FROM \"$jm_measurement\" WITH KEY = \"transaction\"","refresh":2,"regex":"","skipUrlSync":false,"sort":0,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false},{"current":{"selected":true,"text":"5","value":"5"},"hide":2,"label":"Backend send interval in second","name":"send_interval","options":[{"selected":true,"text":"5","value":"5"}],"query":"5","skipUrlSync":false,"type":"constant"},{"current":{"selected":false,"text":".*","value":".*"},"hide":0,"label":null,"name":"server","options":[{"selected":false,"text":".*","value":".*"}],"query":".*","skipUrlSync":false,"type":"textbox"}]},"time":{"from":"now-5m","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"]},"timezone":"","title":"PingIdentity Performance Test","uid":"pingperf","version":1}
  pingdirectory-performance-dashboard.json: |
    {"annotations":{"list":[{"builtIn":1,"datasource":"$data_source","enable":true,"hide":false,"iconColor":"rgba(0, 211, 255, 1)","limit":100,"name":"Start/stop marker","query":"select text from events where $timeFilter","showIn":0,"textColumn":"","type":"dashboard"},{"builtIn":1,"datasource":"-- Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations & Alerts","type":"dashboard"}]},"editable":true,"gnetId":null,"graphTooltip":0,"iteration":1588005706986,"links":[],"panels":[{"collapsed":false,"datasource":null,"gridPos":{"h":1,"w":24,"x":0,"y":0},"id":67,"panels":[],"title":"Summary","type":"row"},{"datasource":"prometheus","gridPos":{"h":5,"w":14,"x":0,"y":1},"id":86,"options":{"fieldOptions":{"calcs":["last"],"defaults":{"mappings":[],"max":100,"min":0,"thresholds":[{"color":"green","value":null},{"color":"red","value":80}]},"override":{},"values":false},"orientation":"auto","showThresholdLabels":false,"showThresholdMarkers":true},"pluginVersion":"6.5.3","targets":[{"expr":"sum by (operation) (throughput{namespace=\"$namespace\"})","format":"time_series","instant":false,"legendFormat":"{{operation}}","refId":"A"}],"timeFrom":null,"timeShift":null,"title":"Total Throughput by Operation - Server (p)","type":"gauge"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["#299c46","#e24d42","#d44a3a"],"datasource":"$data_source","decimals":0,"format":"bytes","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":2,"w":4,"x":14,"y":1},"height":"","id":51,"interval":"[[send_interval]]s","links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":" ","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"#bf1b00","show":false},"tableColumn":"","targets":[{"dsType":"influxdb","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"orderByTime":"ASC","policy":"default","query":"SELECT sum(\"rb\") FROM  \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE ( \"application\" =~ /^$jm_application$/ AND \"transaction\" =~ /^$jm_transaction$/ AND $timeFilter ) AND $timeFilter ","rawQuery":true,"refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]}],"thresholds":"","title":"Received Bytes - Client (j)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["#299c46","#e24d42","#d44a3a"],"datasource":"$data_source","decimals":0,"description":"failed requests for *all* transactions of a single measurement","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":3,"x":18,"y":1},"height":"","id":49,"interval":"[[send_interval]]s","links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":" Failed","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"#bf1b00","show":false},"tableColumn":"","targets":[{"dsType":"influxdb","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"orderByTime":"ASC","policy":"default","query":"SELECT sum(\"countError\") FROM  \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE ( \"application\" =~ /^$jm_application$/ AND \"transaction\" =~ /^$jm_transaction$/ AND $timeFilter ) GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]},{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":true,"measurement":"/^$measurement$/","orderByTime":"ASC","policy":"autogen","query":"SELECT sum(\"countError\") FROM \"autogen\"./^$measurement$/ WHERE $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"B","resultFormat":"time_series","select":[[{"params":["countError"],"type":"field"},{"params":[],"type":"sum"}]],"tags":[]}],"thresholds":"","title":"Failed Requests - Client (j)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["#299c46","#ef843c","#e24d42"],"datasource":"$data_source","decimals":2,"format":"percentunit","gauge":{"maxValue":1,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":5,"w":3,"x":21,"y":1},"id":55,"interval":"[[send_interval]]s","links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"dsType":"influxdb","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"orderByTime":"ASC","policy":"default","query":"SELECT sum(\"error\") / sum(\"all\") FROM (SELECT sum(\"count\") AS \"all\" FROM  \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE ( \"application\" =~ /^$jm_application$/ AND \"transaction\" =~ /^$jm_transaction$/ AND $timeFilter ) GROUP BY time($__interval) fill(null)), (SELECT sum(\"countError\") AS \"error\" FROM  \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE ( \"application\" =~ /^$jm_application$/ AND \"transaction\" =~ /^$jm_transaction$/ AND $timeFilter ) GROUP BY time($__interval) fill(null))","rawQuery":true,"refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]}],"thresholds":"0,0.01","title":"Error Rate % - Client (j)","type":"singlestat","valueFontSize":"50%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["#299c46","#e5ac0e","#d44a3a"],"datasource":"InfluxDB.jmeter","decimals":0,"format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":14,"y":3},"height":"","id":69,"interval":"[[send_interval]]s","links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":" Requests","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"#e5ac0e","show":false},"tableColumn":"","targets":[{"dsType":"influxdb","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"orderByTime":"ASC","policy":"default","query":"SELECT sum(\"count\") FROM  \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE ( \"application\" =~ /^$jm_application$/ AND \"transaction\" =~ /^$jm_transaction$/ AND $timeFilter ) GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]}],"thresholds":"","title":"Total Requests - Client (j)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["#299c46","#e24d42","#d44a3a"],"datasource":"$data_source","decimals":0,"format":"bytes","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":2,"w":3,"x":18,"y":4},"height":"","id":123,"interval":"[[send_interval]]s","links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":" ","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"#bf1b00","show":false},"tableColumn":"","targets":[{"dsType":"influxdb","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"orderByTime":"ASC","policy":"default","query":"SELECT max(\"sb\") FROM  \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE ( \"application\" =~ /^$jm_application$/ AND \"transaction\" =~ /^$jm_transaction$/ AND $timeFilter ) GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]}],"thresholds":"","title":"Sent Bytes - Client (j)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"aliasColors":{"No of Errors":"#6ED0E0","Req / s":"#6ed0e0","Req / sec":"#65c5db"},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"$data_source","decimals":2,"editable":true,"error":false,"fill":3,"fillGradient":0,"gridPos":{"h":7,"w":8,"x":0,"y":6},"hiddenSeries":false,"id":90,"interval":"[[send_interval]]s","legend":{"alignAsTable":true,"avg":true,"current":false,"max":true,"min":false,"rightSide":false,"show":true,"sort":null,"sortDesc":null,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pluginVersion":"6.5.3","pointradius":1,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"","dsType":"influxdb","groupBy":[{"params":["$__interval"],"type":"time"}],"measurement":"jmeter","orderByTime":"ASC","policy":"default","query":"SELECT sum(\"count\") / $send_interval FROM  \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE ( \"application\" != '' AND \"transaction\" =~ /^$jm_transaction$/ AND $timeFilter ) GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"A","resultFormat":"time_series","select":[[{"params":["count"],"type":"field"},{"params":[],"type":"last"}]],"tags":[{"key":"transaction","operator":"=","value":"all"},{"condition":"AND","key":"application","operator":"=~","value":"/^$application$/"}]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Total Throughput - Client (j)","tooltip":{"msResolution":false,"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{"banner":"#508642"},"bars":false,"dashLength":10,"dashes":false,"datasource":"$data_source","decimals":0,"editable":true,"error":false,"fill":1,"fillGradient":0,"gridPos":{"h":7,"w":8,"x":8,"y":6},"height":"","hiddenSeries":false,"id":97,"interval":"[[send_interval]]s","legend":{"alignAsTable":false,"avg":true,"current":false,"hideEmpty":false,"hideZero":false,"max":true,"min":false,"rightSide":false,"show":true,"sideWidth":null,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":1,"points":false,"renderer":"flot","repeatDirection":"h","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"99%","dsType":"influxdb","groupBy":[{"params":["transaction"],"type":"tag"}],"hide":false,"measurement":"jmeter","orderByTime":"ASC","policy":"default","query":"SELECT mean(\"pct99.0\") FROM \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE (\"application\" =~ /^$jm_application$/ AND \"transaction\"='all') AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"B","resultFormat":"time_series","select":[[{"params":["pct95.0"],"type":"field"}]],"tags":[{"key":"statut","operator":"=","value":"ok"},{"condition":"AND","key":"application","operator":"=~","value":"/^$application$/"}]},{"alias":"95%","dsType":"influxdb","groupBy":[{"params":["transaction"],"type":"tag"}],"hide":false,"measurement":"jmeter","orderByTime":"ASC","policy":"default","query":"SELECT mean(\"pct95.0\") FROM \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE (\"application\" =~ /^$jm_application$/ AND \"transaction\"='all') AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"A","resultFormat":"time_series","select":[[{"params":["pct95.0"],"type":"field"}]],"tags":[{"key":"statut","operator":"=","value":"ok"},{"condition":"AND","key":"application","operator":"=~","value":"/^$application$/"}]},{"alias":"90%","dsType":"influxdb","groupBy":[{"params":["transaction"],"type":"tag"}],"hide":false,"measurement":"jmeter","orderByTime":"ASC","policy":"default","query":"SELECT mean(\"pct90.0\") FROM \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE (\"application\" =~ /^$jm_application$/ AND \"transaction\"='all') AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"C","resultFormat":"time_series","select":[[{"params":["pct95.0"],"type":"field"}]],"tags":[{"key":"statut","operator":"=","value":"ok"},{"condition":"AND","key":"application","operator":"=~","value":"/^$application$/"}]}],"thresholds":[{"colorMode":"ok","fill":true,"fillColor":"rgba(31, 166, 21, 0.07)","line":true,"lineColor":"rgba(31, 96, 196, 0.6)","op":"lt","value":124,"yaxis":"left"},{"colorMode":"warning","fill":false,"line":true,"op":"gt","value":170,"yaxis":"left"},{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":5000,"yaxis":"left"}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Total Response Times 99,95,90% - Client (j)","tooltip":{"msResolution":false,"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"ms","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{"Threads":"#614d93","threads":"#614d93"},"bars":false,"dashLength":10,"dashes":false,"datasource":"$data_source","decimals":0,"fill":6,"fillGradient":0,"gridPos":{"h":7,"w":8,"x":16,"y":6},"hiddenSeries":false,"id":61,"interval":"[[send_interval]]s","legend":{"alignAsTable":true,"avg":false,"current":true,"max":false,"min":false,"show":true,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"Threads","dsType":"influxdb","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":true,"orderByTime":"ASC","policy":"default","query":"SELECT last(\"maxAT\") FROM  \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE ( \"application\" =~ /^$jm_application$/ AND \"transaction\" = 'internal' AND $timeFilter ) GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]},{"alias":"Threads","dsType":"influxdb","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"orderByTime":"ASC","policy":"default","query":"SELECT sum(\"maxAT\") FROM  \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE ( \"application\" != '' AND \"transaction\" = 'internal' AND $timeFilter ) GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"B","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Active Threads - Client (j)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":0,"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":7,"w":6,"x":0,"y":13},"hiddenSeries":false,"id":92,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","repeatDirection":"h","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"(\n  label_replace(\n    (sum(rate(container_cpu_usage_seconds_total{container_name=\"pingdirectory\",namespace=\"$namespace\"}[$range_interval])) by (pod_name)),\n    \"pod\",\"$1\",\"pod_name\",\"(.+)\"\n  )\n  / on (pod) \n  (sum(kube_pod_container_resource_requests_cpu_cores{container=\"pingdirectory\",node!=\"\",namespace=\"$namespace\"}) by (pod))\n)*100","legendFormat":"{{pod}}","refId":"B"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"CPU usage % - Server (k)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"percent","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":"","logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":7,"w":6,"x":6,"y":13},"hiddenSeries":false,"id":93,"interval":"","legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"(\n  label_replace(\n    (sum(container_memory_working_set_bytes{container_name=\"pingdirectory\",namespace=\"$namespace\"}) by (pod_name)),\n    \"pod\",\"$1\",\"pod_name\",\"(.+)\"\n  )\n  / on (pod) \n  (sum(kube_pod_container_resource_requests_memory_bytes{container=\"pingdirectory\",node!=\"\",namespace=\"$namespace\"}) by (pod))\n)*100","instant":false,"legendFormat":"{{pod}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Memory Used (%) - Server (k)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"percent","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":7,"w":6,"x":12,"y":13},"hiddenSeries":false,"id":95,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","repeatDirection":"h","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"(\n  label_replace(\n    (sum(rate(container_cpu_usage_seconds_total{container_name!=\"POD\",pod!~\"pingdirectory.*\",namespace=\"$namespace\"}[$range_interval])) by (pod_name)),\n    \"pod\",\"$1\",\"pod_name\",\"(.+)\"\n  )\n  / on (pod) \n  (sum(kube_pod_container_resource_requests_cpu_cores{container_name!=\"POD\",pod!~\"pingdirectory.*\",namespace=\"$namespace\"}) by (pod))\n)*100","legendFormat":"{{pod}}","refId":"B"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"CPU usage % - Client (k)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"percent","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":"","logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":7,"w":6,"x":18,"y":13},"hiddenSeries":false,"id":96,"interval":"","legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"(\n  label_replace(\n    (sum(container_memory_working_set_bytes{container_name!=\"pingdirectory\",namespace=\"$namespace\"}) by (pod_name)),\n    \"pod\",\"$1\",\"pod_name\",\"(.+)\"\n  )\n  / on (pod) \n  (sum(kube_pod_container_resource_requests_memory_bytes{container!=\"pingdirectory\",node!=\"\",namespace=\"$namespace\"}) by (pod))\n)*100","instant":false,"legendFormat":"{{pod}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Memory Used % - Client (k)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"percent","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"columns":[],"datasource":"prometheus","description":"","fontSize":"100%","gridPos":{"h":5,"w":16,"x":0,"y":20},"id":33,"options":{},"pageSize":null,"pluginVersion":"6.5.3","showHeader":true,"sort":{"col":4,"desc":false},"styles":[{"alias":"","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"Time","thresholds":[],"type":"hidden","unit":"short"},{"alias":"cpu - requests","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"Value #A","thresholds":[],"type":"number","unit":"short"},{"alias":"cpu - limit","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"Value #B","thresholds":[],"type":"number","unit":"short"},{"alias":"mem - requests","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":1,"mappingType":1,"pattern":"Value #C","thresholds":[],"type":"number","unit":"gbytes"},{"alias":"mem - limit","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":1,"mappingType":1,"pattern":"Value #D","thresholds":[],"type":"number","unit":"gbytes"}],"targets":[{"expr":"(sum(kube_pod_container_resource_limits_cpu_cores{container=\"pingdirectory\",node!=\"\",namespace=\"$namespace\"}) by (node,pod)) + on(node) group_left(nodegroup) (0 * label_replace(\n    (kube_node_labels),\n    \"nodegroup\",\"$1\",\"label_alpha_eksctl_io_nodegroup_name\",\"(.+)\"\n  ))","format":"table","instant":true,"refId":"B"},{"expr":"(sum(kube_pod_container_resource_limits_memory_bytes{container=\"pingdirectory\",node!=\"\",namespace=\"$namespace\"}) by (node,pod))/1073741824 + on(node) group_left(nodegroup) (0 * label_replace(\n    (kube_node_labels),\n    \"nodegroup\",\"$1\",\"label_alpha_eksctl_io_nodegroup_name\",\"(.+)\"\n  ))","format":"table","instant":true,"refId":"D"},{"expr":"(sum(kube_pod_container_resource_requests_cpu_cores{container=\"pingdirectory\",node!=\"\",namespace=\"$namespace\"}) by (node,pod)) + on(node) group_left(nodegroup) (0 * label_replace(\n    (kube_node_labels),\n    \"nodegroup\",\"$1\",\"label_alpha_eksctl_io_nodegroup_name\",\"(.+)\"\n  ))","format":"table","instant":true,"intervalFactor":1,"legendFormat":"","refId":"A"},{"expr":"(sum(kube_pod_container_resource_requests_memory_bytes{container=\"pingdirectory\",node!=\"\",namespace=\"$namespace\"}) by (node,pod))/1073741824 + on(node) group_left(nodegroup) (0 * label_replace(\n    (kube_node_labels),\n    \"nodegroup\",\"$1\",\"label_alpha_eksctl_io_nodegroup_name\",\"(.+)\"\n  ))","format":"table","instant":true,"refId":"C"}],"timeFrom":null,"timeShift":null,"title":"Allocated Resources per Container - Server (k)","transform":"table","type":"table"},{"columns":[],"datasource":"prometheus","fontSize":"100%","gridPos":{"h":5,"w":8,"x":16,"y":20},"id":43,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":2,"desc":false},"styles":[{"alias":"Time","dateFormat":"YYYY-MM-DD HH:mm:ss","link":false,"pattern":"Time","type":"hidden"},{"alias":"cpus","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"decimals":1,"pattern":"Value #A","thresholds":[],"type":"number","unit":"short"},{"alias":"mem","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":1,"mappingType":1,"pattern":"Value #B","thresholds":[],"type":"number","unit":"gbytes"}],"targets":[{"expr":"sum(kube_pod_container_resource_limits_cpu_cores{container!~\"ping.*\",namespace=\"$namespace\"})by (pod)","format":"table","instant":true,"refId":"A"},{"expr":"(sum(kube_pod_container_resource_limits_memory_bytes{container!~\"ping.*\",namespace=\"$namespace\"})by (pod))/1073741824","format":"table","instant":true,"refId":"B"}],"timeFrom":null,"timeShift":null,"title":"Load Generator Resources Allocated - Client (k)","transform":"table","type":"table"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":7,"w":8,"x":0,"y":25},"hiddenSeries":false,"id":98,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(rate(container_network_transmit_bytes_total{namespace=\"$namespace\",pod!=\"\"}[1m])) by (pod)","format":"time_series","legendFormat":"","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Network io bytes out - Server/client (k)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":7,"w":8,"x":8,"y":25},"hiddenSeries":false,"id":45,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(rate(container_network_receive_bytes_total{namespace=\"$namespace\",pod=~\"pingdirectory.*\"}[1m])) by (pod)","format":"time_series","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Network io bytes in - Server (k)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"datasource":null,"gridPos":{"h":1,"w":24,"x":0,"y":32},"id":65,"panels":[],"title":"Resource Utilization","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":6,"w":8,"x":0,"y":33},"hiddenSeries":false,"id":38,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","repeatDirection":"h","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(rate(container_cpu_usage_seconds_total{container_name=\"pingdirectory\",namespace=\"$namespace\"}[$range_interval])) by (pod_name) ","legendFormat":"{{pod_name}}","refId":"B"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"CPU - # of cores - Server (k)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":6,"w":8,"x":8,"y":33},"hiddenSeries":false,"id":35,"interval":"","legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"(sum(container_memory_working_set_bytes{container_name=\"pingdirectory\",namespace=\"$namespace\"}) by (pod_name))/1073741824","instant":false,"legendFormat":"{{pod_name}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Memory Used (GiB) - Server (k)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"gbytes","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":6,"w":8,"x":16,"y":33},"hiddenSeries":false,"id":105,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"avg(backend_db_cache_percent_full{namespace=\"$namespace\"}) by (backendID)","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Avg DB Cache % Full by Backend - Server (p)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":6,"w":8,"x":0,"y":39},"hiddenSeries":false,"id":91,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","repeatDirection":"h","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(rate(container_cpu_usage_seconds_total{container_name!=\"POD\",pod!~\"pingdirectory.*\",namespace=\"$namespace\"}[$range_interval])) by (pod_name) ","legendFormat":"{{pod_name}}","refId":"B"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"CPU - # of cores - Client (k)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":6,"w":8,"x":8,"y":39},"hiddenSeries":false,"id":99,"interval":"","legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"(sum(container_memory_working_set_bytes{pod_name!~\"pingdirectory.*\",namespace=\"$namespace\"}) by (pod_name))/1073741824","instant":false,"legendFormat":"{{pod_name}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Memory Used (GiB) - Server (k)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"gbytes","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":6,"w":8,"x":16,"y":39},"hiddenSeries":false,"id":108,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(backend_db_cache_percent_full{namespace=\"$namespace\"}) by (backendID,instance)","legendFormat":"{{backendID}}-{{instance}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"DB Cache % Full by Backend and Server - Server (p)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":7,"w":8,"x":0,"y":45},"hiddenSeries":false,"id":107,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"backend_avg_checkpoint_duration{namespace=\"$namespace\"}","legendFormat":"{{backendID}}-{{instance}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Avg Checkpoint Duration by Backend and Server - Server (p)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":7,"w":8,"x":8,"y":45},"hiddenSeries":false,"id":109,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(backend_avg_checkpoint_duration{namespace=\"$namespace\"}) by (backendID)","legendFormat":"{{backendID}}-avg","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Avg Checkpoint Duration by Backend and Server - Server (p)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":7,"w":8,"x":16,"y":45},"hiddenSeries":false,"id":111,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(worker_threads_busy{namespace=\"$namespace\"})by (instance)","legendFormat":"{{instance}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Worker Threads Busy - Server (p)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":8,"w":8,"x":0,"y":52},"hiddenSeries":false,"id":22,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"_dc_example{dc=\"com\\\".replica-backlog\",namespace=\"$namespace\"}","legendFormat":"{{instance}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Replication Backlog - Server (p)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Backlog","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":8,"w":8,"x":8,"y":52},"hiddenSeries":false,"id":113,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"ops_in_progress","legendFormat":"{{instance}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Ops in Progress - Server (p)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":8,"w":8,"x":16,"y":52},"hiddenSeries":false,"id":115,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"connections","legendFormat":"{{instance}}-connection","refId":"A"},{"expr":"new_connections","legendFormat":"{{instance}}-new","refId":"B"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Connections and New Connections - Server (p)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":6,"w":8,"x":0,"y":60},"hiddenSeries":false,"id":28,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"avg by (backendID) (backend_entry_count{namespace=\"$namespace\"})","legendFormat":"{{backendID}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Average Entry Count by Backend - Server (p)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Entry Count","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"datasource":null,"gridPos":{"h":1,"w":24,"x":0,"y":66},"id":63,"panels":[],"repeat":null,"title":"Throughput","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":3,"fillGradient":0,"gridPos":{"h":9,"w":8,"x":0,"y":67},"hiddenSeries":false,"id":14,"legend":{"alignAsTable":true,"avg":true,"current":false,"max":true,"min":false,"show":true,"total":false,"values":true},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(throughput{namespace=\"$namespace\"})","legendFormat":"Throughput","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Overall Operation Throughput - Server (p)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Operations per Second","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":9,"w":8,"x":8,"y":67},"hiddenSeries":false,"id":16,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum by (operation) (throughput{namespace=\"$namespace\"})","legendFormat":"{{operation}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Total Throughput by Operation - Server (p)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Operations per Second","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":9,"w":8,"x":16,"y":67},"hiddenSeries":false,"id":6,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"throughput{namespace=\"$namespace\"}","legendFormat":"{{instance}}-{{operation}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Throughput per Operation and Server - Server (p)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Operations per Second","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":8,"w":8,"x":0,"y":76},"hiddenSeries":false,"id":4,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum by (instance) (throughput{namespace=\"$namespace\"})","legendFormat":"{{instance}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Throughput per Server - Server (p)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Operations per Second","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{"No of Errors":"#6ED0E0","Req / s":"#6ed0e0","Req / sec":"#65c5db"},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"$data_source","decimals":2,"editable":true,"error":false,"fill":3,"fillGradient":0,"gridPos":{"h":8,"w":8,"x":8,"y":76},"hiddenSeries":false,"id":100,"interval":"[[send_interval]]s","legend":{"alignAsTable":true,"avg":true,"current":false,"max":true,"min":false,"rightSide":false,"show":true,"sort":null,"sortDesc":null,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pluginVersion":"6.5.3","pointradius":1,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"modify","dsType":"influxdb","groupBy":[{"params":["$__interval"],"type":"time"}],"hide":false,"measurement":"jmeter","orderByTime":"ASC","policy":"default","query":"SELECT (sum(\"count\") / $send_interval)/2 FROM  \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE ( \"application\" != '' AND \"transaction\" =~/^Mod.*/ AND $timeFilter ) GROUP BY  time($__interval) fill(null)","rawQuery":true,"refId":"A","resultFormat":"time_series","select":[[{"params":["count"],"type":"field"},{"params":[],"type":"last"}]],"tags":[{"key":"transaction","operator":"=","value":"all"},{"condition":"AND","key":"application","operator":"=~","value":"/^$application$/"}]},{"alias":"bind","dsType":"influxdb","groupBy":[{"params":["$__interval"],"type":"time"}],"hide":false,"measurement":"jmeter","orderByTime":"ASC","policy":"default","query":"SELECT (sum(\"count\") / $send_interval)/2 FROM  \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE ( \"application\" != '' AND \"transaction\" =~ /^Bind.*/ AND $timeFilter ) GROUP BY  time($__interval) fill(null)","rawQuery":true,"refId":"B","resultFormat":"time_series","select":[[{"params":["count"],"type":"field"},{"params":[],"type":"last"}]],"tags":[{"key":"transaction","operator":"=","value":"all"},{"condition":"AND","key":"application","operator":"=~","value":"/^$application$/"}]},{"alias":"search","dsType":"influxdb","groupBy":[{"params":["$__interval"],"type":"time"}],"hide":false,"measurement":"jmeter","orderByTime":"ASC","policy":"default","query":"SELECT (sum(\"count\") / $send_interval)/2 FROM  \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE ( \"application\" != '' AND \"transaction\" =~ /^Search.*/ AND $timeFilter ) GROUP BY  time($__interval) fill(null)","rawQuery":true,"refId":"C","resultFormat":"time_series","select":[[{"params":["count"],"type":"field"},{"params":[],"type":"last"}]],"tags":[{"key":"transaction","operator":"=","value":"all"},{"condition":"AND","key":"application","operator":"=~","value":"/^$application$/"}]},{"alias":"all","dsType":"influxdb","groupBy":[{"params":["$__interval"],"type":"time"}],"hide":false,"measurement":"jmeter","orderByTime":"ASC","policy":"default","query":"SELECT sum(\"count\") / $send_interval FROM  \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE ( \"application\" != '' AND \"transaction\" = 'all' AND $timeFilter ) GROUP BY  time($__interval) fill(null)","rawQuery":true,"refId":"D","resultFormat":"time_series","select":[[{"params":["count"],"type":"field"},{"params":[],"type":"last"}]],"tags":[{"key":"transaction","operator":"=","value":"all"},{"condition":"AND","key":"application","operator":"=~","value":"/^$application$/"}]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Total Throughput by operation - Client (j)","tooltip":{"msResolution":false,"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{"No of Errors":"#6ED0E0","Req / s":"#6ed0e0","Req / sec":"#65c5db"},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"$data_source","decimals":2,"editable":true,"error":false,"fill":3,"fillGradient":0,"gridPos":{"h":8,"w":8,"x":16,"y":76},"hiddenSeries":false,"id":125,"interval":"[[send_interval]]s","legend":{"alignAsTable":true,"avg":true,"current":false,"max":true,"min":false,"rightSide":false,"show":true,"sort":null,"sortDesc":null,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pluginVersion":"6.5.3","pointradius":1,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"$tag_application","dsType":"influxdb","groupBy":[{"params":["$__interval"],"type":"time"}],"hide":false,"measurement":"jmeter","orderByTime":"ASC","policy":"default","query":"SELECT sum(\"count\") / $send_interval FROM  \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE ( \"application\" != '' AND \"transaction\" = 'all' AND $timeFilter ) GROUP BY  application,time($__interval) fill(null)","rawQuery":true,"refId":"D","resultFormat":"time_series","select":[[{"params":["count"],"type":"field"},{"params":[],"type":"last"}]],"tags":[{"key":"transaction","operator":"=","value":"all"},{"condition":"AND","key":"application","operator":"=~","value":"/^$application$/"}]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Total Throughput by client - Client (j)","tooltip":{"msResolution":false,"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":8,"w":8,"x":0,"y":84},"hiddenSeries":false,"id":10,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum by (gcType, size, cause, instance) (rate(garbage_collections{namespace=\"$namespace\"}[1m]))","legendFormat":"{{instance}}-{{gcType}}-{{size}}-{{cause}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Garbage Collection Rate per Server - Server (p)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Collections per Minute","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":8,"w":8,"x":8,"y":84},"hiddenSeries":false,"id":12,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum by (instance) (garbage_collection_live_megabytes{namespace=\"$namespace\"})","legendFormat":"{{instance}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"GC Live Megabytes per Server - Server (p)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Megabytes","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":8,"w":8,"x":16,"y":84},"hiddenSeries":false,"id":26,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"avg by (region) (garbage_collection_live_megabytes{namespace=\"$namespace\"})","legendFormat":"{{region}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Average GC Live Megabytes by Region - Server (p)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Megabytes","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":true,"datasource":null,"gridPos":{"h":1,"w":24,"x":0,"y":92},"id":81,"panels":[{"aliasColors":{"banner":"#508642"},"bars":false,"dashLength":10,"dashes":false,"datasource":"$data_source","decimals":0,"editable":true,"error":false,"fill":1,"fillGradient":0,"gridPos":{"h":8,"w":8,"x":0,"y":43},"height":"","hiddenSeries":false,"id":79,"interval":"[[send_interval]]s","legend":{"alignAsTable":false,"avg":true,"current":false,"hideEmpty":false,"hideZero":false,"max":true,"min":false,"rightSide":false,"show":true,"sideWidth":null,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":1,"points":false,"renderer":"flot","repeatDirection":"h","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"all_transactions","dsType":"influxdb","groupBy":[{"params":["transaction"],"type":"tag"}],"hide":false,"measurement":"jmeter","orderByTime":"ASC","policy":"default","query":"SELECT mean(\"pct99.0\") FROM \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE (\"application\" =~ /^$jm_application$/ AND transaction='all') AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"B","resultFormat":"time_series","select":[[{"params":["pct95.0"],"type":"field"}]],"tags":[{"key":"statut","operator":"=","value":"ok"},{"condition":"AND","key":"application","operator":"=~","value":"/^$application$/"}]}],"thresholds":[{"colorMode":"ok","fill":true,"fillColor":"rgba(31, 166, 21, 0.07)","line":true,"lineColor":"rgba(31, 96, 196, 0.6)","op":"lt","value":124,"yaxis":"left"},{"colorMode":"warning","fill":false,"line":true,"op":"gt","value":170,"yaxis":"left"},{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":5000,"yaxis":"left"}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Total Response Times (99th pct) - Client (j)","tooltip":{"msResolution":false,"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"ms","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{"banner":"#508642"},"bars":false,"dashLength":10,"dashes":false,"datasource":"$data_source","decimals":0,"editable":true,"error":false,"fill":1,"fillGradient":0,"gridPos":{"h":8,"w":8,"x":8,"y":43},"height":"","hiddenSeries":false,"id":77,"interval":"[[send_interval]]s","legend":{"alignAsTable":false,"avg":true,"current":false,"hideEmpty":false,"hideZero":false,"max":true,"min":false,"rightSide":false,"show":true,"sideWidth":null,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":1,"points":false,"renderer":"flot","repeat":null,"repeatDirection":"h","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"$tag_transaction","dsType":"influxdb","groupBy":[{"params":["transaction"],"type":"tag"}],"measurement":"jmeter","orderByTime":"ASC","policy":"default","query":"SELECT mean(\"pct95.0\") FROM \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE (\"application\" =~ /^$jm_application$/) AND $timeFilter GROUP BY \"transaction\", time($__interval) fill(null)","rawQuery":true,"refId":"B","resultFormat":"time_series","select":[[{"params":["pct95.0"],"type":"field"}]],"tags":[{"key":"statut","operator":"=","value":"ok"},{"condition":"AND","key":"application","operator":"=~","value":"/^$application$/"}]}],"thresholds":[{"colorMode":"ok","fill":true,"fillColor":"rgba(31, 166, 21, 0.07)","line":true,"lineColor":"rgba(31, 96, 196, 0.6)","op":"lt","value":124,"yaxis":"left"},{"colorMode":"warning","fill":false,"line":true,"op":"gt","value":170,"yaxis":"left"},{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":5000,"yaxis":"left"}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Total Response Times (95th pct) - Client (j)","tooltip":{"msResolution":false,"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"ms","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{"banner":"#508642"},"bars":false,"dashLength":10,"dashes":false,"datasource":"$data_source","decimals":0,"editable":true,"error":false,"fill":1,"fillGradient":0,"gridPos":{"h":8,"w":8,"x":16,"y":43},"height":"","hiddenSeries":false,"id":78,"interval":"[[send_interval]]s","legend":{"alignAsTable":false,"avg":true,"current":false,"hideEmpty":false,"hideZero":false,"max":true,"min":false,"rightSide":false,"show":true,"sideWidth":null,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":1,"points":false,"renderer":"flot","repeatDirection":"h","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"$tag_transaction","dsType":"influxdb","groupBy":[{"params":["transaction"],"type":"tag"}],"measurement":"jmeter","orderByTime":"ASC","policy":"default","query":"SELECT mean(\"pct90.0\") FROM \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE (\"application\" =~ /^$jm_application$/) AND $timeFilter GROUP BY \"transaction\", time($__interval) fill(null)","rawQuery":true,"refId":"B","resultFormat":"time_series","select":[[{"params":["pct95.0"],"type":"field"}]],"tags":[{"key":"statut","operator":"=","value":"ok"},{"condition":"AND","key":"application","operator":"=~","value":"/^$application$/"}]}],"thresholds":[{"colorMode":"ok","fill":true,"fillColor":"rgba(31, 166, 21, 0.07)","line":true,"lineColor":"rgba(31, 96, 196, 0.6)","op":"lt","value":124,"yaxis":"left"},{"colorMode":"warning","fill":false,"line":true,"op":"gt","value":170,"yaxis":"left"},{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":5000,"yaxis":"left"}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Total Response Times (90th pct) - Client (j)","tooltip":{"msResolution":false,"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"ms","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{"banner":"#508642"},"bars":false,"dashLength":10,"dashes":false,"datasource":"$data_source","decimals":0,"editable":true,"error":false,"fill":1,"fillGradient":0,"gridPos":{"h":8,"w":8,"x":0,"y":51},"height":"","hiddenSeries":false,"id":101,"interval":"[[send_interval]]s","legend":{"alignAsTable":false,"avg":true,"current":false,"hideEmpty":false,"hideZero":false,"max":true,"min":false,"rightSide":false,"show":true,"sideWidth":null,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":1,"points":false,"renderer":"flot","repeatDirection":"h","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"total","dsType":"influxdb","groupBy":[{"params":["transaction"],"type":"tag"}],"hide":false,"measurement":"jmeter","orderByTime":"ASC","policy":"default","query":"SELECT max(\"pct99.0\") FROM \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE (\"application\" =~ /^$jm_application$/ AND transaction !='all') AND $timeFilter GROUP BY  time($__interval) fill(null)","rawQuery":true,"refId":"B","resultFormat":"time_series","select":[[{"params":["pct95.0"],"type":"field"}]],"tags":[{"key":"statut","operator":"=","value":"ok"},{"condition":"AND","key":"application","operator":"=~","value":"/^$application$/"}]}],"thresholds":[{"colorMode":"ok","fill":true,"fillColor":"rgba(31, 166, 21, 0.07)","line":true,"lineColor":"rgba(31, 96, 196, 0.6)","op":"lt","value":124,"yaxis":"left"},{"colorMode":"warning","fill":false,"line":true,"op":"gt","value":170,"yaxis":"left"},{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":5000,"yaxis":"left"}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Total Response Times (99th pct) - Client (j)","tooltip":{"msResolution":false,"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"ms","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{"banner":"#508642"},"bars":false,"dashLength":10,"dashes":false,"datasource":"$data_source","decimals":0,"editable":true,"error":false,"fill":1,"fillGradient":0,"gridPos":{"h":8,"w":8,"x":8,"y":51},"height":"","hiddenSeries":false,"id":102,"interval":"[[send_interval]]s","legend":{"alignAsTable":false,"avg":true,"current":false,"hideEmpty":false,"hideZero":false,"max":true,"min":false,"rightSide":false,"show":true,"sideWidth":null,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":1,"points":false,"renderer":"flot","repeatDirection":"h","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"$tag_transaction","dsType":"influxdb","groupBy":[{"params":["transaction"],"type":"tag"}],"measurement":"jmeter","orderByTime":"ASC","policy":"default","query":"SELECT mean(\"pct95.0\") FROM \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE (\"application\" =~ /^$jm_application$/) AND $timeFilter GROUP BY \"transaction\", time($__interval) fill(null)","rawQuery":true,"refId":"B","resultFormat":"time_series","select":[[{"params":["pct95.0"],"type":"field"}]],"tags":[{"key":"statut","operator":"=","value":"ok"},{"condition":"AND","key":"application","operator":"=~","value":"/^$application$/"}]}],"thresholds":[{"colorMode":"ok","fill":true,"fillColor":"rgba(31, 166, 21, 0.07)","line":true,"lineColor":"rgba(31, 96, 196, 0.6)","op":"lt","value":124,"yaxis":"left"},{"colorMode":"warning","fill":false,"line":true,"op":"gt","value":170,"yaxis":"left"},{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":5000,"yaxis":"left"}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Total Response Times (95th pct) - Client (j)","tooltip":{"msResolution":false,"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"ms","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{"banner":"#508642"},"bars":false,"dashLength":10,"dashes":false,"datasource":"$data_source","decimals":0,"editable":true,"error":false,"fill":1,"fillGradient":0,"gridPos":{"h":8,"w":8,"x":16,"y":51},"height":"","hiddenSeries":false,"id":103,"interval":"[[send_interval]]s","legend":{"alignAsTable":false,"avg":true,"current":false,"hideEmpty":false,"hideZero":false,"max":true,"min":false,"rightSide":false,"show":true,"sideWidth":null,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":1,"points":false,"renderer":"flot","repeatDirection":"h","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"$tag_transaction","dsType":"influxdb","groupBy":[{"params":["transaction"],"type":"tag"}],"measurement":"jmeter","orderByTime":"ASC","policy":"default","query":"SELECT mean(\"pct90.0\") FROM \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE (\"application\" =~ /^$jm_application$/) AND $timeFilter GROUP BY \"transaction\", time($__interval) fill(null)","rawQuery":true,"refId":"B","resultFormat":"time_series","select":[[{"params":["pct95.0"],"type":"field"}]],"tags":[{"key":"statut","operator":"=","value":"ok"},{"condition":"AND","key":"application","operator":"=~","value":"/^$application$/"}]}],"thresholds":[{"colorMode":"ok","fill":true,"fillColor":"rgba(31, 166, 21, 0.07)","line":true,"lineColor":"rgba(31, 96, 196, 0.6)","op":"lt","value":124,"yaxis":"left"},{"colorMode":"warning","fill":false,"line":true,"op":"gt","value":170,"yaxis":"left"},{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":5000,"yaxis":"left"}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Total Response Times (90th pct) - Client (j)","tooltip":{"msResolution":false,"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"ms","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":0,"y":59},"hiddenSeries":false,"id":2,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"avg by (instance) (response_time{namespace=\"$namespace\"} > 0)","legendFormat":"{{instance}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Average Latency by Server - Server (p)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Latency (ms)","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":12,"y":59},"hiddenSeries":false,"id":18,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"avg((response_time{namespace=\"$namespace\"} > 0))","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Overall Average Operation Latency - Server (p)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Latency (ms)","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":0,"y":67},"hiddenSeries":false,"id":8,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"response_time{namespace=\"$namespace\"} > 0","legendFormat":"{{instance}}-{{operation}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Average Latency by Operation and Server - Server (p)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Latency (ms)","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus","fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":12,"y":67},"hiddenSeries":false,"id":20,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"avg by (operation) (response_time{namespace=\"$namespace\"} > 0)","legendFormat":"{{operation}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Average Latency by Operation - Server (p)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Latency (ms)","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}}],"title":"Latency","type":"row"},{"collapsed":true,"datasource":null,"gridPos":{"h":1,"w":24,"x":0,"y":93},"id":73,"panels":[{"aliasColors":{"No of Errors":"#BF1B00","Num of Errors":"#bf1b00"},"bars":false,"dashLength":10,"dashes":false,"datasource":"$data_source","decimals":0,"editable":true,"error":false,"fill":7,"fillGradient":0,"gridPos":{"h":8,"w":8,"x":0,"y":5},"hiddenSeries":false,"id":59,"interval":"[[send_interval]]s","legend":{"alignAsTable":true,"avg":true,"current":false,"max":true,"min":false,"rightSide":false,"show":true,"total":true,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":1,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"Num of Errors","dsType":"influxdb","groupBy":[{"params":["$aggregation"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"jmeter","orderByTime":"ASC","policy":"default","query":"SELECT sum(\"countError\") FROM  \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE ( \"application\" =~ /^$jm_application$/ AND \"transaction\" =~ /^$jm_transaction$/ AND $timeFilter ) GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"B","resultFormat":"time_series","select":[[{"params":["countError"],"type":"field"},{"params":[],"type":"sum"}]],"tags":[{"key":"transaction","operator":"=","value":"all"},{"condition":"AND","key":"application","operator":"=~","value":"/^$application$/"}]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Total Errors - Client (j)","tooltip":{"msResolution":false,"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":0,"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"columns":[],"datasource":"$data_source","fontSize":"100%","gridPos":{"h":7,"w":16,"x":8,"y":5},"id":71,"interval":"","links":[],"options":{},"pageSize":null,"scroll":true,"showHeader":true,"sort":{"col":null,"desc":false},"styles":[{"alias":"","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss.SSS","decimals":2,"mappingType":1,"pattern":"Time","thresholds":[],"type":"date","unit":"short"},{"alias":"","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"responseCode","thresholds":[],"type":"string","unit":"short"},{"alias":"","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"responseMessage","thresholds":[],"type":"number","unit":"short"},{"alias":"","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"link":false,"mappingType":1,"pattern":"/.*/","thresholds":[],"type":"hidden","unit":"short"}],"targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":true,"orderByTime":"ASC","policy":"default","query":"SELECT * FROM  \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE ( \"application\" =~ /^$jm_application$/ AND \"responseCode\" != ''  AND $timeFilter)","rawQuery":true,"refId":"A","resultFormat":"table","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]}],"title":"Error Info - Client (j)","transform":"table","type":"table"},{"columns":[],"datasource":"$data_source","fontSize":"100%","gridPos":{"h":7,"w":8,"x":0,"y":13},"height":"","id":75,"interval":"[[send_interval]]s","links":[],"options":{},"pageSize":null,"scroll":true,"showHeader":true,"sort":{"col":2,"desc":true},"styles":[{"alias":"Time","dateFormat":"YYYY-MM-DD HH:mm:ss","pattern":"Time","type":"hidden"},{"alias":"","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"decimals":0,"pattern":"/.*/","thresholds":[],"type":"number","unit":"short"}],"targets":[{"alias":"$tag_transaction","dsType":"influxdb","groupBy":[{"params":["transaction"],"type":"tag"}],"hide":true,"measurement":"jmeter","orderByTime":"ASC","policy":"default","query":"SELECT sum(\"count\") FROM \"$jm_database\".\"$jm_retention\".\"$jm_measurement\" WHERE (\"statut\" = 'ko') AND $timeFilter GROUP BY \"transaction\"","rawQuery":true,"refId":"A","resultFormat":"table","select":[[{"params":["count"],"type":"field"},{"params":[],"type":"sum"}]],"tags":[{"key":"application","operator":"=~","value":"/^$application$/"},{"condition":"AND","key":"statut","operator":"=","value":"ko"}]}],"title":"Errors per Transaction - Client (j)","transform":"table","type":"table"}],"title":"Errors","type":"row"}],"refresh":"","schemaVersion":21,"style":"dark","tags":[],"templating":{"list":[{"current":{"selected":true,"text":"perf-pingdirectory","value":"perf-pingdirectory"},"hide":0,"label":null,"name":"namespace","options":[{"selected":true,"text":"perf-pingdirectory","value":"perf-pingdirectory"}],"query":"perf-pingdirectory","skipUrlSync":false,"type":"textbox"},{"current":{"selected":false,"text":"1m","value":"1m"},"hide":0,"label":"range_interval","name":"range_interval","options":[{"selected":true,"text":"1m","value":"1m"}],"query":"1m","skipUrlSync":false,"type":"textbox"},{"current":{"text":"InfluxDB.jmeter","value":"InfluxDB.jmeter"},"hide":0,"includeAll":false,"label":null,"multi":false,"name":"data_source","options":[],"query":"influxdb","refresh":1,"regex":"","skipUrlSync":false,"type":"datasource"},{"allValue":null,"current":{"selected":true,"text":"jmeter","value":"jmeter"},"datasource":"$data_source","definition":"SHOW DATABASES","hide":0,"includeAll":false,"label":null,"multi":false,"name":"jm_database","options":[{"selected":false,"text":"_internal","value":"_internal"},{"selected":true,"text":"jmeter","value":"jmeter"},{"selected":false,"text":"pingfederate","value":"pingfederate"},{"selected":false,"text":"telegraf","value":"telegraf"}],"query":"SHOW DATABASES","refresh":0,"regex":"","skipUrlSync":false,"sort":0,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false},{"allValue":null,"current":{"selected":true,"text":"jmeter","value":"jmeter"},"datasource":"$data_source","definition":"SHOW MEASUREMENTS ON \"$jm_database\"","hide":0,"includeAll":false,"label":null,"multi":false,"name":"jm_measurement","options":[{"selected":false,"text":"events","value":"events"},{"selected":true,"text":"jmeter","value":"jmeter"}],"query":"SHOW MEASUREMENTS ON \"$jm_database\"","refresh":0,"regex":"","skipUrlSync":false,"sort":0,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false},{"allValue":null,"current":{"selected":true,"text":"perf","value":"perf"},"datasource":"$data_source","definition":"SHOW RETENTION POLICIES on \"$jm_database\"","hide":0,"includeAll":false,"label":null,"multi":false,"name":"jm_retention","options":[{"selected":false,"text":"autogen","value":"autogen"},{"selected":true,"text":"perf","value":"perf"}],"query":"SHOW RETENTION POLICIES on \"$jm_database\"","refresh":0,"regex":"","skipUrlSync":false,"sort":0,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false},{"allValue":"*","current":{"text":"All","value":["$__all"]},"datasource":"$data_source","definition":"SHOW TAG VALUES ON \"$jm_database\" FROM \"$jm_measurement\" WITH KEY = \"application\"","hide":0,"includeAll":true,"label":null,"multi":true,"name":"jm_application","options":[],"query":"SHOW TAG VALUES ON \"$jm_database\" FROM \"$jm_measurement\" WITH KEY = \"application\"","refresh":2,"regex":"","skipUrlSync":false,"sort":0,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false},{"allValue":null,"current":{"tags":[],"text":"all","value":"all"},"datasource":"$data_source","definition":"SHOW TAG VALUES ON \"$jm_database\" FROM \"$jm_measurement\" WITH KEY = \"transaction\"","hide":0,"includeAll":false,"label":null,"multi":false,"name":"jm_transaction","options":[],"query":"SHOW TAG VALUES ON \"$jm_database\" FROM \"$jm_measurement\" WITH KEY = \"transaction\"","refresh":2,"regex":"","skipUrlSync":false,"sort":0,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false},{"current":{"selected":true,"text":"5","value":"5"},"hide":2,"label":"Backend send interval in second","name":"send_interval","options":[{"selected":true,"text":"5","value":"5"}],"query":"5","skipUrlSync":false,"type":"constant"}]},"time":{"from":"now-5m","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"]},"timezone":"","title":"PingDirectory Performance Test","uid":"pdperf","version":1}
metadata:
  name: grafana-dashboards
  namespace: ${PING_IDENTITY_K8S_NAMESPACE}
---
kind: ConfigMap
apiVersion: v1
data:
##edited by samir - url to match ns
  datasources.yaml: |-
    {
        "apiVersion": 1,
        "datasources": [
            {
                "access": "proxy",
                "name": "prometheus",
                "type": "prometheus",
                "url": "http://prometheus.${PING_IDENTITY_K8S_NAMESPACE}.svc.cluster.local:9090",
                "version": 1
            },
            {
                "name": "InfluxDB.jmeter",
                "type": "influxdb",
                "access": "proxy",
                "url": "http://influx-influxdb.${PING_IDENTITY_K8S_NAMESPACE}.svc.cluster.local:8086",
                "database": "jmeter",
                "basicAuth": false,
                "isDefault": false,
                "readOnly": false
            }
        ]
    }
metadata:
  name: grafana-datasources
  namespace: ${PING_IDENTITY_K8S_NAMESPACE}
---
apiVersion: v1
kind: Service
metadata:
  labels:
    app: grafana
  name: grafana
  namespace: ${PING_IDENTITY_K8S_NAMESPACE}
spec:
  ports:
  - name: grafana
    port: 3000
  selector:
    app: grafana
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: grafana
  namespace: ${PING_IDENTITY_K8S_NAMESPACE}
spec:
  replicas: 1
  selector:
    matchLabels:
      app: grafana
  strategy:
    rollingUpdate:
      maxSurge: 1
      maxUnavailable: 1
    type: RollingUpdate
  template:
    metadata:
      labels:
        app: grafana
    spec:
      containers:
      - env:
        - name: GF_SERVER_HTTP_PORT
          value: "3000"
        - name: GF_INSTALL_PLUGINS
          value: grafana-kubernetes-app
        - name: GF_SECURITY_ADMIN_PASSWORD
          value: 2FederateM0re
        - name: GF_USERS_ALLOW_SIGN_UP
          value: "false"
        image: grafana/grafana:6.5.3
        name: grafana
        ports:
        - containerPort: 3000
          protocol: TCP
        resources:
          limits:
            cpu: "2"
            memory: 3Gi
          requests:
            cpu: "2"
            memory: 3Gi
        securityContext:
          runAsNonRoot: false
          runAsUser: 0
        volumeMounts:
        - mountPath: /etc/grafana/provisioning/datasources
          name: grafana-datasources
          readOnly: false
        - mountPath: /etc/grafana/provisioning/dashboards
          name: grafana-dashboards
      restartPolicy: Always
      volumes:
      - configMap:
          name: grafana-datasources
        name: grafana-datasources
      - configMap:
          name: grafana-dashboards
        name: grafana-dashboards